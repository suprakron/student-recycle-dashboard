(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ya(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const wt={},Zn=[],Pe=()=>{},zd=()=>!1,Ci=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),va=e=>e.startsWith("onUpdate:"),ie=Object.assign,Ea=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Wd=Object.prototype.hasOwnProperty,yt=(e,t)=>Wd.call(e,t),tt=Array.isArray,tr=e=>ms(e)==="[object Map]",Si=e=>ms(e)==="[object Set]",Jl=e=>ms(e)==="[object Date]",it=e=>typeof e=="function",Dt=e=>typeof e=="string",De=e=>typeof e=="symbol",bt=e=>e!==null&&typeof e=="object",Wc=e=>(bt(e)||it(e))&&it(e.then)&&it(e.catch),Kc=Object.prototype.toString,ms=e=>Kc.call(e),Kd=e=>ms(e).slice(8,-1),Gc=e=>ms(e)==="[object Object]",Ta=e=>Dt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Wr=ya(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ri=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Gd=/-(\w)/g,hn=Ri(e=>e.replace(Gd,(t,n)=>n?n.toUpperCase():"")),Qd=/\B([A-Z])/g,Un=Ri(e=>e.replace(Qd,"-$1").toLowerCase()),Qc=Ri(e=>e.charAt(0).toUpperCase()+e.slice(1)),fo=Ri(e=>e?`on${Qc(e)}`:""),an=(e,t)=>!Object.is(e,t),Gs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Yc=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},ri=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Zl;const Pi=()=>Zl||(Zl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wa(e){if(tt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Dt(r)?Zd(r):wa(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Dt(e)||bt(e))return e}const Yd=/;(?![^(]*\))/g,Xd=/:([^]+)/,Jd=/\/\*[^]*?\*\//g;function Zd(e){const t={};return e.replace(Jd,"").split(Yd).forEach(n=>{if(n){const r=n.split(Xd);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ia(e){let t="";if(Dt(e))t=e;else if(tt(e))for(let n=0;n<e.length;n++){const r=Ia(e[n]);r&&(t+=r+" ")}else if(bt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const tp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ep=ya(tp);function Xc(e){return!!e||e===""}function np(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Vi(e[r],t[r]);return n}function Vi(e,t){if(e===t)return!0;let n=Jl(e),r=Jl(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=De(e),r=De(t),n||r)return e===t;if(n=tt(e),r=tt(t),n||r)return n&&r?np(e,t):!1;if(n=bt(e),r=bt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const a in e){const l=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(l&&!c||!l&&c||!Vi(e[a],t[a]))return!1}}return String(e)===String(t)}function rp(e,t){return e.findIndex(n=>Vi(n,t))}const Jc=e=>!!(e&&e.__v_isRef===!0),Ae=e=>Dt(e)?e:e==null?"":tt(e)||bt(e)&&(e.toString===Kc||!it(e.toString))?Jc(e)?Ae(e.value):JSON.stringify(e,Zc,2):String(e),Zc=(e,t)=>Jc(t)?Zc(e,t.value):tr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[po(r,i)+" =>"]=s,n),{})}:Si(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>po(n))}:De(t)?po(t):bt(t)&&!tt(t)&&!Gc(t)?String(t):t,po=(e,t="")=>{var n;return De(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let oe;class sp{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=oe,!t&&oe&&(this.index=(oe.scopes||(oe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=oe;try{return oe=this,t()}finally{oe=n}}}on(){++this._on===1&&(this.prevScope=oe,oe=this)}off(){this._on>0&&--this._on===0&&(oe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function ip(){return oe}let It;const mo=new WeakSet;class th{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,oe&&oe.active&&oe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mo.has(this)&&(mo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||nh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,tu(this),rh(this);const t=It,n=Ee;It=this,Ee=!0;try{return this.fn()}finally{sh(this),It=t,Ee=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ca(t);this.deps=this.depsTail=void 0,tu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fo(this)&&this.run()}get dirty(){return Fo(this)}}let eh=0,Kr,Gr;function nh(e,t=!1){if(e.flags|=8,t){e.next=Gr,Gr=e;return}e.next=Kr,Kr=e}function Aa(){eh++}function ba(){if(--eh>0)return;if(Gr){let t=Gr;for(Gr=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Kr;){let t=Kr;for(Kr=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function rh(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function sh(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Ca(r),op(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function Fo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ih(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ih(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===rs)||(e.globalVersion=rs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Fo(e))))return;e.flags|=2;const t=e.dep,n=It,r=Ee;It=e,Ee=!0;try{rh(e);const s=e.fn(e._value);(t.version===0||an(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{It=n,Ee=r,sh(e),e.flags&=-3}}function Ca(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ca(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function op(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ee=!0;const oh=[];function He(){oh.push(Ee),Ee=!1}function ze(){const e=oh.pop();Ee=e===void 0?!0:e}function tu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=It;It=void 0;try{t()}finally{It=n}}}let rs=0;class ap{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Sa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!It||!Ee||It===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==It)n=this.activeLink=new ap(It,this),It.deps?(n.prevDep=It.depsTail,It.depsTail.nextDep=n,It.depsTail=n):It.deps=It.depsTail=n,ah(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=It.depsTail,n.nextDep=void 0,It.depsTail.nextDep=n,It.depsTail=n,It.deps===n&&(It.deps=r)}return n}trigger(t){this.version++,rs++,this.notify(t)}notify(t){Aa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ba()}}}function ah(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ah(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Bo=new WeakMap,kn=Symbol(""),Uo=Symbol(""),ss=Symbol("");function Xt(e,t,n){if(Ee&&It){let r=Bo.get(e);r||Bo.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Sa),s.map=r,s.key=n),s.track()}}function $e(e,t,n,r,s,i){const a=Bo.get(e);if(!a){rs++;return}const l=c=>{c&&c.trigger()};if(Aa(),t==="clear")a.forEach(l);else{const c=tt(e),f=c&&Ta(n);if(c&&n==="length"){const d=Number(r);a.forEach((m,_)=>{(_==="length"||_===ss||!De(_)&&_>=d)&&l(m)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),f&&l(a.get(ss)),t){case"add":c?f&&l(a.get("length")):(l(a.get(kn)),tr(e)&&l(a.get(Uo)));break;case"delete":c||(l(a.get(kn)),tr(e)&&l(a.get(Uo)));break;case"set":tr(e)&&l(a.get(kn));break}}ba()}function Wn(e){const t=_t(e);return t===e?t:(Xt(t,"iterate",ss),ge(e)?t:t.map(qt))}function xi(e){return Xt(e=_t(e),"iterate",ss),e}const lp={__proto__:null,[Symbol.iterator](){return go(this,Symbol.iterator,qt)},concat(...e){return Wn(this).concat(...e.map(t=>tt(t)?Wn(t):t))},entries(){return go(this,"entries",e=>(e[1]=qt(e[1]),e))},every(e,t){return Ue(this,"every",e,t,void 0,arguments)},filter(e,t){return Ue(this,"filter",e,t,n=>n.map(qt),arguments)},find(e,t){return Ue(this,"find",e,t,qt,arguments)},findIndex(e,t){return Ue(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ue(this,"findLast",e,t,qt,arguments)},findLastIndex(e,t){return Ue(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ue(this,"forEach",e,t,void 0,arguments)},includes(...e){return _o(this,"includes",e)},indexOf(...e){return _o(this,"indexOf",e)},join(e){return Wn(this).join(e)},lastIndexOf(...e){return _o(this,"lastIndexOf",e)},map(e,t){return Ue(this,"map",e,t,void 0,arguments)},pop(){return Lr(this,"pop")},push(...e){return Lr(this,"push",e)},reduce(e,...t){return eu(this,"reduce",e,t)},reduceRight(e,...t){return eu(this,"reduceRight",e,t)},shift(){return Lr(this,"shift")},some(e,t){return Ue(this,"some",e,t,void 0,arguments)},splice(...e){return Lr(this,"splice",e)},toReversed(){return Wn(this).toReversed()},toSorted(e){return Wn(this).toSorted(e)},toSpliced(...e){return Wn(this).toSpliced(...e)},unshift(...e){return Lr(this,"unshift",e)},values(){return go(this,"values",qt)}};function go(e,t,n){const r=xi(e),s=r[t]();return r!==e&&!ge(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const up=Array.prototype;function Ue(e,t,n,r,s,i){const a=xi(e),l=a!==e&&!ge(e),c=a[t];if(c!==up[t]){const m=c.apply(e,i);return l?qt(m):m}let f=n;a!==e&&(l?f=function(m,_){return n.call(this,qt(m),_,e)}:n.length>2&&(f=function(m,_){return n.call(this,m,_,e)}));const d=c.call(a,f,r);return l&&s?s(d):d}function eu(e,t,n,r){const s=xi(e);let i=n;return s!==e&&(ge(e)?n.length>3&&(i=function(a,l,c){return n.call(this,a,l,c,e)}):i=function(a,l,c){return n.call(this,a,qt(l),c,e)}),s[t](i,...r)}function _o(e,t,n){const r=_t(e);Xt(r,"iterate",ss);const s=r[t](...n);return(s===-1||s===!1)&&xa(n[0])?(n[0]=_t(n[0]),r[t](...n)):s}function Lr(e,t,n=[]){He(),Aa();const r=_t(e)[t].apply(e,n);return ba(),ze(),r}const cp=ya("__proto__,__v_isRef,__isVue"),lh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(De));function hp(e){De(e)||(e=String(e));const t=_t(this);return Xt(t,"has",e),t.hasOwnProperty(e)}class uh{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Tp:dh:i?fh:hh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=tt(t);if(!s){let c;if(a&&(c=lp[n]))return c;if(n==="hasOwnProperty")return hp}const l=Reflect.get(t,n,Zt(t)?t:r);return(De(n)?lh.has(n):cp(n))||(s||Xt(t,"get",n),i)?l:Zt(l)?a&&Ta(n)?l:l.value:bt(l)?s?ph(l):Pa(l):l}}class ch extends uh{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const c=fn(i);if(!ge(r)&&!fn(r)&&(i=_t(i),r=_t(r)),!tt(t)&&Zt(i)&&!Zt(r))return c?!1:(i.value=r,!0)}const a=tt(t)&&Ta(n)?Number(n)<t.length:yt(t,n),l=Reflect.set(t,n,r,Zt(t)?t:s);return t===_t(s)&&(a?an(r,i)&&$e(t,"set",n,r):$e(t,"add",n,r)),l}deleteProperty(t,n){const r=yt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&$e(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!De(n)||!lh.has(n))&&Xt(t,"has",n),r}ownKeys(t){return Xt(t,"iterate",tt(t)?"length":kn),Reflect.ownKeys(t)}}class fp extends uh{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const dp=new ch,pp=new fp,mp=new ch(!0);const jo=e=>e,Bs=e=>Reflect.getPrototypeOf(e);function gp(e,t,n){return function(...r){const s=this.__v_raw,i=_t(s),a=tr(i),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,f=s[e](...r),d=n?jo:t?si:qt;return!t&&Xt(i,"iterate",c?Uo:kn),{next(){const{value:m,done:_}=f.next();return _?{value:m,done:_}:{value:l?[d(m[0]),d(m[1])]:d(m),done:_}},[Symbol.iterator](){return this}}}}function Us(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function _p(e,t){const n={get(s){const i=this.__v_raw,a=_t(i),l=_t(s);e||(an(s,l)&&Xt(a,"get",s),Xt(a,"get",l));const{has:c}=Bs(a),f=t?jo:e?si:qt;if(c.call(a,s))return f(i.get(s));if(c.call(a,l))return f(i.get(l));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!e&&Xt(_t(s),"iterate",kn),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,a=_t(i),l=_t(s);return e||(an(s,l)&&Xt(a,"has",s),Xt(a,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const a=this,l=a.__v_raw,c=_t(l),f=t?jo:e?si:qt;return!e&&Xt(c,"iterate",kn),l.forEach((d,m)=>s.call(i,f(d),f(m),a))}};return ie(n,e?{add:Us("add"),set:Us("set"),delete:Us("delete"),clear:Us("clear")}:{add(s){!t&&!ge(s)&&!fn(s)&&(s=_t(s));const i=_t(this);return Bs(i).has.call(i,s)||(i.add(s),$e(i,"add",s,s)),this},set(s,i){!t&&!ge(i)&&!fn(i)&&(i=_t(i));const a=_t(this),{has:l,get:c}=Bs(a);let f=l.call(a,s);f||(s=_t(s),f=l.call(a,s));const d=c.call(a,s);return a.set(s,i),f?an(i,d)&&$e(a,"set",s,i):$e(a,"add",s,i),this},delete(s){const i=_t(this),{has:a,get:l}=Bs(i);let c=a.call(i,s);c||(s=_t(s),c=a.call(i,s)),l&&l.call(i,s);const f=i.delete(s);return c&&$e(i,"delete",s,void 0),f},clear(){const s=_t(this),i=s.size!==0,a=s.clear();return i&&$e(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=gp(s,e,t)}),n}function Ra(e,t){const n=_p(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(yt(n,s)&&s in r?n:r,s,i)}const yp={get:Ra(!1,!1)},vp={get:Ra(!1,!0)},Ep={get:Ra(!0,!1)};const hh=new WeakMap,fh=new WeakMap,dh=new WeakMap,Tp=new WeakMap;function wp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ip(e){return e.__v_skip||!Object.isExtensible(e)?0:wp(Kd(e))}function Pa(e){return fn(e)?e:Va(e,!1,dp,yp,hh)}function Ap(e){return Va(e,!1,mp,vp,fh)}function ph(e){return Va(e,!0,pp,Ep,dh)}function Va(e,t,n,r,s){if(!bt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Ip(e);if(i===0)return e;const a=s.get(e);if(a)return a;const l=new Proxy(e,i===2?r:n);return s.set(e,l),l}function er(e){return fn(e)?er(e.__v_raw):!!(e&&e.__v_isReactive)}function fn(e){return!!(e&&e.__v_isReadonly)}function ge(e){return!!(e&&e.__v_isShallow)}function xa(e){return e?!!e.__v_raw:!1}function _t(e){const t=e&&e.__v_raw;return t?_t(t):e}function bp(e){return!yt(e,"__v_skip")&&Object.isExtensible(e)&&Yc(e,"__v_skip",!0),e}const qt=e=>bt(e)?Pa(e):e,si=e=>bt(e)?ph(e):e;function Zt(e){return e?e.__v_isRef===!0:!1}function Fr(e){return Cp(e,!1)}function Cp(e,t){return Zt(e)?e:new Sp(e,t)}class Sp{constructor(t,n){this.dep=new Sa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:_t(t),this._value=n?t:qt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||ge(t)||fn(t);t=r?t:_t(t),an(t,n)&&(this._rawValue=t,this._value=r?t:qt(t),this.dep.trigger())}}function Rp(e){return Zt(e)?e.value:e}const Pp={get:(e,t,n)=>t==="__v_raw"?e:Rp(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Zt(s)&&!Zt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function mh(e){return er(e)?e:new Proxy(e,Pp)}class Vp{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Sa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=rs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&It!==this)return nh(this,!0),!0}get value(){const t=this.dep.track();return ih(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function xp(e,t,n=!1){let r,s;return it(e)?r=e:(r=e.get,s=e.set),new Vp(r,s,n)}const js={},ii=new WeakMap;let Vn;function Dp(e,t=!1,n=Vn){if(n){let r=ii.get(n);r||ii.set(n,r=[]),r.push(e)}}function Op(e,t,n=wt){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:l,call:c}=n,f=H=>s?H:ge(H)||s===!1||s===0?qe(H,1):qe(H);let d,m,_,b,V=!1,O=!1;if(Zt(e)?(m=()=>e.value,V=ge(e)):er(e)?(m=()=>f(e),V=!0):tt(e)?(O=!0,V=e.some(H=>er(H)||ge(H)),m=()=>e.map(H=>{if(Zt(H))return H.value;if(er(H))return f(H);if(it(H))return c?c(H,2):H()})):it(e)?t?m=c?()=>c(e,2):e:m=()=>{if(_){He();try{_()}finally{ze()}}const H=Vn;Vn=d;try{return c?c(e,3,[b]):e(b)}finally{Vn=H}}:m=Pe,t&&s){const H=m,dt=s===!0?1/0:s;m=()=>qe(H(),dt)}const F=ip(),Y=()=>{d.stop(),F&&F.active&&Ea(F.effects,d)};if(i&&t){const H=t;t=(...dt)=>{H(...dt),Y()}}let K=O?new Array(e.length).fill(js):js;const W=H=>{if(!(!(d.flags&1)||!d.dirty&&!H))if(t){const dt=d.run();if(s||V||(O?dt.some((gt,I)=>an(gt,K[I])):an(dt,K))){_&&_();const gt=Vn;Vn=d;try{const I=[dt,K===js?void 0:O&&K[0]===js?[]:K,b];K=dt,c?c(t,3,I):t(...I)}finally{Vn=gt}}}else d.run()};return l&&l(W),d=new th(m),d.scheduler=a?()=>a(W,!1):W,b=H=>Dp(H,!1,d),_=d.onStop=()=>{const H=ii.get(d);if(H){if(c)c(H,4);else for(const dt of H)dt();ii.delete(d)}},t?r?W(!0):K=d.run():a?a(W.bind(null,!0),!0):d.run(),Y.pause=d.pause.bind(d),Y.resume=d.resume.bind(d),Y.stop=Y,Y}function qe(e,t=1/0,n){if(t<=0||!bt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Zt(e))qe(e.value,t,n);else if(tt(e))for(let r=0;r<e.length;r++)qe(e[r],t,n);else if(Si(e)||tr(e))e.forEach(r=>{qe(r,t,n)});else if(Gc(e)){for(const r in e)qe(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&qe(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gs(e,t,n,r){try{return r?e(...r):e()}catch(s){Di(s,t,n)}}function Oe(e,t,n,r){if(it(e)){const s=gs(e,t,n,r);return s&&Wc(s)&&s.catch(i=>{Di(i,t,n)}),s}if(tt(e)){const s=[];for(let i=0;i<e.length;i++)s.push(Oe(e[i],t,n,r));return s}}function Di(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||wt;if(t){let l=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](e,c,f)===!1)return}l=l.parent}if(i){He(),gs(i,null,10,[e,c,f]),ze();return}}Np(e,n,s,r,a)}function Np(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const ne=[];let be=-1;const nr=[];let en=null,Gn=0;const gh=Promise.resolve();let oi=null;function _h(e){const t=oi||gh;return e?t.then(this?e.bind(this):e):t}function Mp(e){let t=be+1,n=ne.length;for(;t<n;){const r=t+n>>>1,s=ne[r],i=is(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Da(e){if(!(e.flags&1)){const t=is(e),n=ne[ne.length-1];!n||!(e.flags&2)&&t>=is(n)?ne.push(e):ne.splice(Mp(t),0,e),e.flags|=1,yh()}}function yh(){oi||(oi=gh.then(Eh))}function kp(e){tt(e)?nr.push(...e):en&&e.id===-1?en.splice(Gn+1,0,e):e.flags&1||(nr.push(e),e.flags|=1),yh()}function nu(e,t,n=be+1){for(;n<ne.length;n++){const r=ne[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;ne.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function vh(e){if(nr.length){const t=[...new Set(nr)].sort((n,r)=>is(n)-is(r));if(nr.length=0,en){en.push(...t);return}for(en=t,Gn=0;Gn<en.length;Gn++){const n=en[Gn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}en=null,Gn=0}}const is=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Eh(e){try{for(be=0;be<ne.length;be++){const t=ne[be];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),gs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;be<ne.length;be++){const t=ne[be];t&&(t.flags&=-2)}be=-1,ne.length=0,vh(),oi=null,(ne.length||nr.length)&&Eh()}}let me=null,Th=null;function ai(e){const t=me;return me=e,Th=e&&e.type.__scopeId||null,t}function Lp(e,t=me,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&fu(-1);const i=ai(t);let a;try{a=e(...s)}finally{ai(i),r._d&&fu(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function yo(e,t){if(me===null)return e;const n=ki(me),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,l,c=wt]=t[s];i&&(it(i)&&(i={mounted:i,updated:i}),i.deep&&qe(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Rn(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];i&&(l.oldValue=i[a].value);let c=l.dir[r];c&&(He(),Oe(c,n,8,[e.el,l,e,t]),ze())}}const Fp=Symbol("_vte"),Bp=e=>e.__isTeleport;function Oa(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Oa(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function wh(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function li(e,t,n,r,s=!1){if(tt(e)){e.forEach((V,O)=>li(V,t&&(tt(t)?t[O]:t),n,r,s));return}if(Qr(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&li(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?ki(r.component):r.el,a=s?null:i,{i:l,r:c}=e,f=t&&t.r,d=l.refs===wt?l.refs={}:l.refs,m=l.setupState,_=_t(m),b=m===wt?()=>!1:V=>yt(_,V);if(f!=null&&f!==c&&(Dt(f)?(d[f]=null,b(f)&&(m[f]=null)):Zt(f)&&(f.value=null)),it(c))gs(c,l,12,[a,d]);else{const V=Dt(c),O=Zt(c);if(V||O){const F=()=>{if(e.f){const Y=V?b(c)?m[c]:d[c]:c.value;s?tt(Y)&&Ea(Y,i):tt(Y)?Y.includes(i)||Y.push(i):V?(d[c]=[i],b(c)&&(m[c]=d[c])):(c.value=[i],e.k&&(d[e.k]=c.value))}else V?(d[c]=a,b(c)&&(m[c]=a)):O&&(c.value=a,e.k&&(d[e.k]=a))};a?(F.id=-1,he(F,n)):F()}}}Pi().requestIdleCallback;Pi().cancelIdleCallback;const Qr=e=>!!e.type.__asyncLoader,Ih=e=>e.type.__isKeepAlive;function Up(e,t){Ah(e,"a",t)}function jp(e,t){Ah(e,"da",t)}function Ah(e,t,n=re){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Oi(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Ih(s.parent.vnode)&&$p(r,t,n,s),s=s.parent}}function $p(e,t,n,r){const s=Oi(t,e,r,!0);Ch(()=>{Ea(r[t],s)},n)}function Oi(e,t,n=re,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{He();const l=_s(n),c=Oe(t,n,e,a);return l(),ze(),c});return r?s.unshift(i):s.push(i),i}}const Ge=e=>(t,n=re)=>{(!as||e==="sp")&&Oi(e,(...r)=>t(...r),n)},qp=Ge("bm"),bh=Ge("m"),Hp=Ge("bu"),zp=Ge("u"),Wp=Ge("bum"),Ch=Ge("um"),Kp=Ge("sp"),Gp=Ge("rtg"),Qp=Ge("rtc");function Yp(e,t=re){Oi("ec",e,t)}const Xp=Symbol.for("v-ndc");function ru(e,t,n,r){let s;const i=n,a=tt(e);if(a||Dt(e)){const l=a&&er(e);let c=!1,f=!1;l&&(c=!ge(e),f=fn(e),e=xi(e)),s=new Array(e.length);for(let d=0,m=e.length;d<m;d++)s[d]=t(c?f?si(qt(e[d])):qt(e[d]):e[d],d,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,i)}else if(bt(e))if(e[Symbol.iterator])s=Array.from(e,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(e);s=new Array(l.length);for(let c=0,f=l.length;c<f;c++){const d=l[c];s[c]=t(e[d],d,c,i)}}else s=[];return s}const $o=e=>e?Gh(e)?ki(e):$o(e.parent):null,Yr=ie(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>$o(e.parent),$root:e=>$o(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Rh(e),$forceUpdate:e=>e.f||(e.f=()=>{Da(e.update)}),$nextTick:e=>e.n||(e.n=_h.bind(e.proxy)),$watch:e=>vm.bind(e)}),vo=(e,t)=>e!==wt&&!e.__isScriptSetup&&yt(e,t),Jp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:l,appContext:c}=e;let f;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(vo(r,t))return a[t]=1,r[t];if(s!==wt&&yt(s,t))return a[t]=2,s[t];if((f=e.propsOptions[0])&&yt(f,t))return a[t]=3,i[t];if(n!==wt&&yt(n,t))return a[t]=4,n[t];qo&&(a[t]=0)}}const d=Yr[t];let m,_;if(d)return t==="$attrs"&&Xt(e.attrs,"get",""),d(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==wt&&yt(n,t))return a[t]=4,n[t];if(_=c.config.globalProperties,yt(_,t))return _[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return vo(s,t)?(s[t]=n,!0):r!==wt&&yt(r,t)?(r[t]=n,!0):yt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},a){let l;return!!n[a]||e!==wt&&yt(e,a)||vo(t,a)||(l=i[0])&&yt(l,a)||yt(r,a)||yt(Yr,a)||yt(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:yt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function su(e){return tt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let qo=!0;function Zp(e){const t=Rh(e),n=e.proxy,r=e.ctx;qo=!1,t.beforeCreate&&iu(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:l,provide:c,inject:f,created:d,beforeMount:m,mounted:_,beforeUpdate:b,updated:V,activated:O,deactivated:F,beforeDestroy:Y,beforeUnmount:K,destroyed:W,unmounted:H,render:dt,renderTracked:gt,renderTriggered:I,errorCaptured:g,serverPrefetch:E,expose:w,inheritAttrs:A,components:S,directives:v,filters:ue}=t;if(f&&tm(f,r,null),a)for(const vt in a){const pt=a[vt];it(pt)&&(r[vt]=pt.bind(n))}if(s){const vt=s.call(n,n);bt(vt)&&(e.data=Pa(vt))}if(qo=!0,i)for(const vt in i){const pt=i[vt],_e=it(pt)?pt.bind(n,n):it(pt.get)?pt.get.bind(n,n):Pe,Tn=!it(pt)&&it(pt.set)?pt.set.bind(n):Pe,ke=Yh({get:_e,set:Tn});Object.defineProperty(r,vt,{enumerable:!0,configurable:!0,get:()=>ke.value,set:Ot=>ke.value=Ot})}if(l)for(const vt in l)Sh(l[vt],r,n,vt);if(c){const vt=it(c)?c.call(n):c;Reflect.ownKeys(vt).forEach(pt=>{om(pt,vt[pt])})}d&&iu(d,e,"c");function Ft(vt,pt){tt(pt)?pt.forEach(_e=>vt(_e.bind(n))):pt&&vt(pt.bind(n))}if(Ft(qp,m),Ft(bh,_),Ft(Hp,b),Ft(zp,V),Ft(Up,O),Ft(jp,F),Ft(Yp,g),Ft(Qp,gt),Ft(Gp,I),Ft(Wp,K),Ft(Ch,H),Ft(Kp,E),tt(w))if(w.length){const vt=e.exposed||(e.exposed={});w.forEach(pt=>{Object.defineProperty(vt,pt,{get:()=>n[pt],set:_e=>n[pt]=_e})})}else e.exposed||(e.exposed={});dt&&e.render===Pe&&(e.render=dt),A!=null&&(e.inheritAttrs=A),S&&(e.components=S),v&&(e.directives=v),E&&wh(e)}function tm(e,t,n=Pe){tt(e)&&(e=Ho(e));for(const r in e){const s=e[r];let i;bt(s)?"default"in s?i=Qs(s.from||r,s.default,!0):i=Qs(s.from||r):i=Qs(s),Zt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function iu(e,t,n){Oe(tt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Sh(e,t,n,r){let s=r.includes(".")?jh(n,r):()=>n[r];if(Dt(e)){const i=t[e];it(i)&&To(s,i)}else if(it(e))To(s,e.bind(n));else if(bt(e))if(tt(e))e.forEach(i=>Sh(i,t,n,r));else{const i=it(e.handler)?e.handler.bind(n):t[e.handler];it(i)&&To(s,i,e)}}function Rh(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let c;return l?c=l:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(f=>ui(c,f,a,!0)),ui(c,t,a)),bt(t)&&i.set(t,c),c}function ui(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&ui(e,i,n,!0),s&&s.forEach(a=>ui(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=em[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const em={data:ou,props:au,emits:au,methods:$r,computed:$r,beforeCreate:ee,created:ee,beforeMount:ee,mounted:ee,beforeUpdate:ee,updated:ee,beforeDestroy:ee,beforeUnmount:ee,destroyed:ee,unmounted:ee,activated:ee,deactivated:ee,errorCaptured:ee,serverPrefetch:ee,components:$r,directives:$r,watch:rm,provide:ou,inject:nm};function ou(e,t){return t?e?function(){return ie(it(e)?e.call(this,this):e,it(t)?t.call(this,this):t)}:t:e}function nm(e,t){return $r(Ho(e),Ho(t))}function Ho(e){if(tt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ee(e,t){return e?[...new Set([].concat(e,t))]:t}function $r(e,t){return e?ie(Object.create(null),e,t):t}function au(e,t){return e?tt(e)&&tt(t)?[...new Set([...e,...t])]:ie(Object.create(null),su(e),su(t??{})):t}function rm(e,t){if(!e)return t;if(!t)return e;const n=ie(Object.create(null),e);for(const r in t)n[r]=ee(e[r],t[r]);return n}function Ph(){return{app:null,config:{isNativeTag:zd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sm=0;function im(e,t){return function(r,s=null){it(r)||(r=ie({},r)),s!=null&&!bt(s)&&(s=null);const i=Ph(),a=new WeakSet,l=[];let c=!1;const f=i.app={_uid:sm++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:jm,get config(){return i.config},set config(d){},use(d,...m){return a.has(d)||(d&&it(d.install)?(a.add(d),d.install(f,...m)):it(d)&&(a.add(d),d(f,...m))),f},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),f},component(d,m){return m?(i.components[d]=m,f):i.components[d]},directive(d,m){return m?(i.directives[d]=m,f):i.directives[d]},mount(d,m,_){if(!c){const b=f._ceVNode||Ve(r,s);return b.appContext=i,_===!0?_="svg":_===!1&&(_=void 0),e(b,d,_),c=!0,f._container=d,d.__vue_app__=f,ki(b.component)}},onUnmount(d){l.push(d)},unmount(){c&&(Oe(l,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(d,m){return i.provides[d]=m,f},runWithContext(d){const m=rr;rr=f;try{return d()}finally{rr=m}}};return f}}let rr=null;function om(e,t){if(re){let n=re.provides;const r=re.parent&&re.parent.provides;r===n&&(n=re.provides=Object.create(r)),n[e]=t}}function Qs(e,t,n=!1){const r=re||me;if(r||rr){let s=rr?rr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&it(t)?t.call(r&&r.proxy):t}}const Vh={},xh=()=>Object.create(Vh),Dh=e=>Object.getPrototypeOf(e)===Vh;function am(e,t,n,r=!1){const s={},i=xh();e.propsDefaults=Object.create(null),Oh(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:Ap(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function lm(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,l=_t(s),[c]=e.propsOptions;let f=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let m=0;m<d.length;m++){let _=d[m];if(Ni(e.emitsOptions,_))continue;const b=t[_];if(c)if(yt(i,_))b!==i[_]&&(i[_]=b,f=!0);else{const V=hn(_);s[V]=zo(c,l,V,b,e,!1)}else b!==i[_]&&(i[_]=b,f=!0)}}}else{Oh(e,t,s,i)&&(f=!0);let d;for(const m in l)(!t||!yt(t,m)&&((d=Un(m))===m||!yt(t,d)))&&(c?n&&(n[m]!==void 0||n[d]!==void 0)&&(s[m]=zo(c,l,m,void 0,e,!0)):delete s[m]);if(i!==l)for(const m in i)(!t||!yt(t,m))&&(delete i[m],f=!0)}f&&$e(e.attrs,"set","")}function Oh(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(Wr(c))continue;const f=t[c];let d;s&&yt(s,d=hn(c))?!i||!i.includes(d)?n[d]=f:(l||(l={}))[d]=f:Ni(e.emitsOptions,c)||(!(c in r)||f!==r[c])&&(r[c]=f,a=!0)}if(i){const c=_t(n),f=l||wt;for(let d=0;d<i.length;d++){const m=i[d];n[m]=zo(s,c,m,f[m],e,!yt(f,m))}}return a}function zo(e,t,n,r,s,i){const a=e[n];if(a!=null){const l=yt(a,"default");if(l&&r===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&it(c)){const{propsDefaults:f}=s;if(n in f)r=f[n];else{const d=_s(s);r=f[n]=c.call(null,t),d()}}else r=c;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===Un(n))&&(r=!0))}return r}const um=new WeakMap;function Nh(e,t,n=!1){const r=n?um:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},l=[];let c=!1;if(!it(e)){const d=m=>{c=!0;const[_,b]=Nh(m,t,!0);ie(a,_),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!c)return bt(e)&&r.set(e,Zn),Zn;if(tt(i))for(let d=0;d<i.length;d++){const m=hn(i[d]);lu(m)&&(a[m]=wt)}else if(i)for(const d in i){const m=hn(d);if(lu(m)){const _=i[d],b=a[m]=tt(_)||it(_)?{type:_}:ie({},_),V=b.type;let O=!1,F=!0;if(tt(V))for(let Y=0;Y<V.length;++Y){const K=V[Y],W=it(K)&&K.name;if(W==="Boolean"){O=!0;break}else W==="String"&&(F=!1)}else O=it(V)&&V.name==="Boolean";b[0]=O,b[1]=F,(O||yt(b,"default"))&&l.push(m)}}const f=[a,l];return bt(e)&&r.set(e,f),f}function lu(e){return e[0]!=="$"&&!Wr(e)}const Na=e=>e[0]==="_"||e==="$stable",Ma=e=>tt(e)?e.map(Se):[Se(e)],cm=(e,t,n)=>{if(t._n)return t;const r=Lp((...s)=>Ma(t(...s)),n);return r._c=!1,r},Mh=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Na(s))continue;const i=e[s];if(it(i))t[s]=cm(s,i,r);else if(i!=null){const a=Ma(i);t[s]=()=>a}}},kh=(e,t)=>{const n=Ma(t);e.slots.default=()=>n},Lh=(e,t,n)=>{for(const r in t)(n||!Na(r))&&(e[r]=t[r])},hm=(e,t,n)=>{const r=e.slots=xh();if(e.vnode.shapeFlag&32){const s=t._;s?(Lh(r,t,n),n&&Yc(r,"_",s,!0)):Mh(t,r)}else t&&kh(e,t)},fm=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=wt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Lh(s,t,n):(i=!t.$stable,Mh(t,s)),a=t}else t&&(kh(e,t),a={default:1});if(i)for(const l in s)!Na(l)&&a[l]==null&&delete s[l]},he=Cm;function dm(e){return pm(e)}function pm(e,t){const n=Pi();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:l,createComment:c,setText:f,setElementText:d,parentNode:m,nextSibling:_,setScopeId:b=Pe,insertStaticContent:V}=e,O=(y,T,P,M=null,D=null,N=null,q=void 0,B=null,L=!!T.dynamicChildren)=>{if(y===T)return;y&&!Br(y,T)&&(M=Le(y),Ot(y,D,N,!0),y=null),T.patchFlag===-2&&(L=!1,T.dynamicChildren=null);const{type:k,ref:Q,shapeFlag:$}=T;switch(k){case Mi:F(y,T,P,M);break;case dn:Y(y,T,P,M);break;case wo:y==null&&K(T,P,M,q);break;case ve:S(y,T,P,M,D,N,q,B,L);break;default:$&1?dt(y,T,P,M,D,N,q,B,L):$&6?v(y,T,P,M,D,N,q,B,L):($&64||$&128)&&k.process(y,T,P,M,D,N,q,B,L,we)}Q!=null&&D&&li(Q,y&&y.ref,N,T||y,!T)},F=(y,T,P,M)=>{if(y==null)r(T.el=l(T.children),P,M);else{const D=T.el=y.el;T.children!==y.children&&f(D,T.children)}},Y=(y,T,P,M)=>{y==null?r(T.el=c(T.children||""),P,M):T.el=y.el},K=(y,T,P,M)=>{[y.el,y.anchor]=V(y.children,T,P,M,y.el,y.anchor)},W=({el:y,anchor:T},P,M)=>{let D;for(;y&&y!==T;)D=_(y),r(y,P,M),y=D;r(T,P,M)},H=({el:y,anchor:T})=>{let P;for(;y&&y!==T;)P=_(y),s(y),y=P;s(T)},dt=(y,T,P,M,D,N,q,B,L)=>{T.type==="svg"?q="svg":T.type==="math"&&(q="mathml"),y==null?gt(T,P,M,D,N,q,B,L):E(y,T,D,N,q,B,L)},gt=(y,T,P,M,D,N,q,B)=>{let L,k;const{props:Q,shapeFlag:$,transition:G,dirs:Z}=y;if(L=y.el=a(y.type,N,Q&&Q.is,Q),$&8?d(L,y.children):$&16&&g(y.children,L,null,M,D,Eo(y,N),q,B),Z&&Rn(y,null,M,"created"),I(L,y,y.scopeId,q,M),Q){for(const st in Q)st!=="value"&&!Wr(st)&&i(L,st,null,Q[st],N,M);"value"in Q&&i(L,"value",null,Q.value,N),(k=Q.onVnodeBeforeMount)&&Ie(k,M,y)}Z&&Rn(y,null,M,"beforeMount");const X=mm(D,G);X&&G.beforeEnter(L),r(L,T,P),((k=Q&&Q.onVnodeMounted)||X||Z)&&he(()=>{k&&Ie(k,M,y),X&&G.enter(L),Z&&Rn(y,null,M,"mounted")},D)},I=(y,T,P,M,D)=>{if(P&&b(y,P),M)for(let N=0;N<M.length;N++)b(y,M[N]);if(D){let N=D.subTree;if(T===N||qh(N.type)&&(N.ssContent===T||N.ssFallback===T)){const q=D.vnode;I(y,q,q.scopeId,q.slotScopeIds,D.parent)}}},g=(y,T,P,M,D,N,q,B,L=0)=>{for(let k=L;k<y.length;k++){const Q=y[k]=B?rn(y[k]):Se(y[k]);O(null,Q,T,P,M,D,N,q,B)}},E=(y,T,P,M,D,N,q)=>{const B=T.el=y.el;let{patchFlag:L,dynamicChildren:k,dirs:Q}=T;L|=y.patchFlag&16;const $=y.props||wt,G=T.props||wt;let Z;if(P&&Pn(P,!1),(Z=G.onVnodeBeforeUpdate)&&Ie(Z,P,T,y),Q&&Rn(T,y,P,"beforeUpdate"),P&&Pn(P,!0),($.innerHTML&&G.innerHTML==null||$.textContent&&G.textContent==null)&&d(B,""),k?w(y.dynamicChildren,k,B,P,M,Eo(T,D),N):q||pt(y,T,B,null,P,M,Eo(T,D),N,!1),L>0){if(L&16)A(B,$,G,P,D);else if(L&2&&$.class!==G.class&&i(B,"class",null,G.class,D),L&4&&i(B,"style",$.style,G.style,D),L&8){const X=T.dynamicProps;for(let st=0;st<X.length;st++){const lt=X[st],zt=$[lt],Bt=G[lt];(Bt!==zt||lt==="value")&&i(B,lt,zt,Bt,D,P)}}L&1&&y.children!==T.children&&d(B,T.children)}else!q&&k==null&&A(B,$,G,P,D);((Z=G.onVnodeUpdated)||Q)&&he(()=>{Z&&Ie(Z,P,T,y),Q&&Rn(T,y,P,"updated")},M)},w=(y,T,P,M,D,N,q)=>{for(let B=0;B<T.length;B++){const L=y[B],k=T[B],Q=L.el&&(L.type===ve||!Br(L,k)||L.shapeFlag&198)?m(L.el):P;O(L,k,Q,null,M,D,N,q,!0)}},A=(y,T,P,M,D)=>{if(T!==P){if(T!==wt)for(const N in T)!Wr(N)&&!(N in P)&&i(y,N,T[N],null,D,M);for(const N in P){if(Wr(N))continue;const q=P[N],B=T[N];q!==B&&N!=="value"&&i(y,N,B,q,D,M)}"value"in P&&i(y,"value",T.value,P.value,D)}},S=(y,T,P,M,D,N,q,B,L)=>{const k=T.el=y?y.el:l(""),Q=T.anchor=y?y.anchor:l("");let{patchFlag:$,dynamicChildren:G,slotScopeIds:Z}=T;Z&&(B=B?B.concat(Z):Z),y==null?(r(k,P,M),r(Q,P,M),g(T.children||[],P,Q,D,N,q,B,L)):$>0&&$&64&&G&&y.dynamicChildren?(w(y.dynamicChildren,G,P,D,N,q,B),(T.key!=null||D&&T===D.subTree)&&Fh(y,T,!0)):pt(y,T,P,Q,D,N,q,B,L)},v=(y,T,P,M,D,N,q,B,L)=>{T.slotScopeIds=B,y==null?T.shapeFlag&512?D.ctx.activate(T,P,M,q,L):ue(T,P,M,D,N,q,L):Qe(y,T,L)},ue=(y,T,P,M,D,N,q)=>{const B=y.component=Mm(y,M,D);if(Ih(y)&&(B.ctx.renderer=we),km(B,!1,q),B.asyncDep){if(D&&D.registerDep(B,Ft,q),!y.el){const L=B.subTree=Ve(dn);Y(null,L,T,P)}}else Ft(B,y,T,P,D,N,q)},Qe=(y,T,P)=>{const M=T.component=y.component;if(Am(y,T,P))if(M.asyncDep&&!M.asyncResolved){vt(M,T,P);return}else M.next=T,M.update();else T.el=y.el,M.vnode=T},Ft=(y,T,P,M,D,N,q)=>{const B=()=>{if(y.isMounted){let{next:$,bu:G,u:Z,parent:X,vnode:st}=y;{const Wt=Bh(y);if(Wt){$&&($.el=st.el,vt(y,$,q)),Wt.asyncDep.then(()=>{y.isUnmounted||B()});return}}let lt=$,zt;Pn(y,!1),$?($.el=st.el,vt(y,$,q)):$=st,G&&Gs(G),(zt=$.props&&$.props.onVnodeBeforeUpdate)&&Ie(zt,X,$,st),Pn(y,!0);const Bt=cu(y),de=y.subTree;y.subTree=Bt,O(de,Bt,m(de.el),Le(de),y,D,N),$.el=Bt.el,lt===null&&bm(y,Bt.el),Z&&he(Z,D),(zt=$.props&&$.props.onVnodeUpdated)&&he(()=>Ie(zt,X,$,st),D)}else{let $;const{el:G,props:Z}=T,{bm:X,m:st,parent:lt,root:zt,type:Bt}=y,de=Qr(T);Pn(y,!1),X&&Gs(X),!de&&($=Z&&Z.onVnodeBeforeMount)&&Ie($,lt,T),Pn(y,!0);{zt.ce&&zt.ce._injectChildStyle(Bt);const Wt=y.subTree=cu(y);O(null,Wt,P,M,y,D,N),T.el=Wt.el}if(st&&he(st,D),!de&&($=Z&&Z.onVnodeMounted)){const Wt=T;he(()=>Ie($,lt,Wt),D)}(T.shapeFlag&256||lt&&Qr(lt.vnode)&&lt.vnode.shapeFlag&256)&&y.a&&he(y.a,D),y.isMounted=!0,T=P=M=null}};y.scope.on();const L=y.effect=new th(B);y.scope.off();const k=y.update=L.run.bind(L),Q=y.job=L.runIfDirty.bind(L);Q.i=y,Q.id=y.uid,L.scheduler=()=>Da(Q),Pn(y,!0),k()},vt=(y,T,P)=>{T.component=y;const M=y.vnode.props;y.vnode=T,y.next=null,lm(y,T.props,M,P),fm(y,T.children,P),He(),nu(y),ze()},pt=(y,T,P,M,D,N,q,B,L=!1)=>{const k=y&&y.children,Q=y?y.shapeFlag:0,$=T.children,{patchFlag:G,shapeFlag:Z}=T;if(G>0){if(G&128){Tn(k,$,P,M,D,N,q,B,L);return}else if(G&256){_e(k,$,P,M,D,N,q,B,L);return}}Z&8?(Q&16&&In(k,D,N),$!==k&&d(P,$)):Q&16?Z&16?Tn(k,$,P,M,D,N,q,B,L):In(k,D,N,!0):(Q&8&&d(P,""),Z&16&&g($,P,M,D,N,q,B,L))},_e=(y,T,P,M,D,N,q,B,L)=>{y=y||Zn,T=T||Zn;const k=y.length,Q=T.length,$=Math.min(k,Q);let G;for(G=0;G<$;G++){const Z=T[G]=L?rn(T[G]):Se(T[G]);O(y[G],Z,P,null,D,N,q,B,L)}k>Q?In(y,D,N,!0,!1,$):g(T,P,M,D,N,q,B,L,$)},Tn=(y,T,P,M,D,N,q,B,L)=>{let k=0;const Q=T.length;let $=y.length-1,G=Q-1;for(;k<=$&&k<=G;){const Z=y[k],X=T[k]=L?rn(T[k]):Se(T[k]);if(Br(Z,X))O(Z,X,P,null,D,N,q,B,L);else break;k++}for(;k<=$&&k<=G;){const Z=y[$],X=T[G]=L?rn(T[G]):Se(T[G]);if(Br(Z,X))O(Z,X,P,null,D,N,q,B,L);else break;$--,G--}if(k>$){if(k<=G){const Z=G+1,X=Z<Q?T[Z].el:M;for(;k<=G;)O(null,T[k]=L?rn(T[k]):Se(T[k]),P,X,D,N,q,B,L),k++}}else if(k>G)for(;k<=$;)Ot(y[k],D,N,!0),k++;else{const Z=k,X=k,st=new Map;for(k=X;k<=G;k++){const Ut=T[k]=L?rn(T[k]):Se(T[k]);Ut.key!=null&&st.set(Ut.key,k)}let lt,zt=0;const Bt=G-X+1;let de=!1,Wt=0;const Ye=new Array(Bt);for(k=0;k<Bt;k++)Ye[k]=0;for(k=Z;k<=$;k++){const Ut=y[k];if(zt>=Bt){Ot(Ut,D,N,!0);continue}let pe;if(Ut.key!=null)pe=st.get(Ut.key);else for(lt=X;lt<=G;lt++)if(Ye[lt-X]===0&&Br(Ut,T[lt])){pe=lt;break}pe===void 0?Ot(Ut,D,N,!0):(Ye[pe-X]=k+1,pe>=Wt?Wt=pe:de=!0,O(Ut,T[pe],P,null,D,N,q,B,L),zt++)}const Ar=de?gm(Ye):Zn;for(lt=Ar.length-1,k=Bt-1;k>=0;k--){const Ut=X+k,pe=T[Ut],Is=Ut+1<Q?T[Ut+1].el:M;Ye[k]===0?O(null,pe,P,Is,D,N,q,B,L):de&&(lt<0||k!==Ar[lt]?ke(pe,P,Is,2):lt--)}}},ke=(y,T,P,M,D=null)=>{const{el:N,type:q,transition:B,children:L,shapeFlag:k}=y;if(k&6){ke(y.component.subTree,T,P,M);return}if(k&128){y.suspense.move(T,P,M);return}if(k&64){q.move(y,T,P,we);return}if(q===ve){r(N,T,P);for(let $=0;$<L.length;$++)ke(L[$],T,P,M);r(y.anchor,T,P);return}if(q===wo){W(y,T,P);return}if(M!==2&&k&1&&B)if(M===0)B.beforeEnter(N),r(N,T,P),he(()=>B.enter(N),D);else{const{leave:$,delayLeave:G,afterLeave:Z}=B,X=()=>{y.ctx.isUnmounted?s(N):r(N,T,P)},st=()=>{$(N,()=>{X(),Z&&Z()})};G?G(N,X,st):st()}else r(N,T,P)},Ot=(y,T,P,M=!1,D=!1)=>{const{type:N,props:q,ref:B,children:L,dynamicChildren:k,shapeFlag:Q,patchFlag:$,dirs:G,cacheIndex:Z}=y;if($===-2&&(D=!1),B!=null&&(He(),li(B,null,P,y,!0),ze()),Z!=null&&(T.renderCache[Z]=void 0),Q&256){T.ctx.deactivate(y);return}const X=Q&1&&G,st=!Qr(y);let lt;if(st&&(lt=q&&q.onVnodeBeforeUnmount)&&Ie(lt,T,y),Q&6)wn(y.component,P,M);else{if(Q&128){y.suspense.unmount(P,M);return}X&&Rn(y,null,T,"beforeUnmount"),Q&64?y.type.remove(y,T,P,we,M):k&&!k.hasOnce&&(N!==ve||$>0&&$&64)?In(k,T,P,!1,!0):(N===ve&&$&384||!D&&Q&16)&&In(L,T,P),M&&Nt(y)}(st&&(lt=q&&q.onVnodeUnmounted)||X)&&he(()=>{lt&&Ie(lt,T,y),X&&Rn(y,null,T,"unmounted")},P)},Nt=y=>{const{type:T,el:P,anchor:M,transition:D}=y;if(T===ve){Yi(P,M);return}if(T===wo){H(y);return}const N=()=>{s(P),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(y.shapeFlag&1&&D&&!D.persisted){const{leave:q,delayLeave:B}=D,L=()=>q(P,N);B?B(y.el,N,L):L()}else N()},Yi=(y,T)=>{let P;for(;y!==T;)P=_(y),s(y),y=P;s(T)},wn=(y,T,P)=>{const{bum:M,scope:D,job:N,subTree:q,um:B,m:L,a:k,parent:Q,slots:{__:$}}=y;uu(L),uu(k),M&&Gs(M),Q&&tt($)&&$.forEach(G=>{Q.renderCache[G]=void 0}),D.stop(),N&&(N.flags|=8,Ot(q,y,T,P)),B&&he(B,T),he(()=>{y.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},In=(y,T,P,M=!1,D=!1,N=0)=>{for(let q=N;q<y.length;q++)Ot(y[q],T,P,M,D)},Le=y=>{if(y.shapeFlag&6)return Le(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const T=_(y.anchor||y.el),P=T&&T[Fp];return P?_(P):T};let wr=!1;const ws=(y,T,P)=>{y==null?T._vnode&&Ot(T._vnode,null,null,!0):O(T._vnode||null,y,T,null,null,null,P),T._vnode=y,wr||(wr=!0,nu(),vh(),wr=!1)},we={p:O,um:Ot,m:ke,r:Nt,mt:ue,mc:g,pc:pt,pbc:w,n:Le,o:e};return{render:ws,hydrate:void 0,createApp:im(ws)}}function Eo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Pn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function mm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Fh(e,t,n=!1){const r=e.children,s=t.children;if(tt(r)&&tt(s))for(let i=0;i<r.length;i++){const a=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=rn(s[i]),l.el=a.el),!n&&l.patchFlag!==-2&&Fh(a,l)),l.type===Mi&&(l.el=a.el),l.type===dn&&!l.el&&(l.el=a.el)}}function gm(e){const t=e.slice(),n=[0];let r,s,i,a,l;const c=e.length;for(r=0;r<c;r++){const f=e[r];if(f!==0){if(s=n[n.length-1],e[s]<f){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,e[n[l]]<f?i=l+1:a=l;f<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function Bh(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Bh(t)}function uu(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const _m=Symbol.for("v-scx"),ym=()=>Qs(_m);function To(e,t,n){return Uh(e,t,n)}function Uh(e,t,n=wt){const{immediate:r,deep:s,flush:i,once:a}=n,l=ie({},n),c=t&&r||!t&&i!=="post";let f;if(as){if(i==="sync"){const b=ym();f=b.__watcherHandles||(b.__watcherHandles=[])}else if(!c){const b=()=>{};return b.stop=Pe,b.resume=Pe,b.pause=Pe,b}}const d=re;l.call=(b,V,O)=>Oe(b,d,V,O);let m=!1;i==="post"?l.scheduler=b=>{he(b,d&&d.suspense)}:i!=="sync"&&(m=!0,l.scheduler=(b,V)=>{V?b():Da(b)}),l.augmentJob=b=>{t&&(b.flags|=4),m&&(b.flags|=2,d&&(b.id=d.uid,b.i=d))};const _=Op(e,t,l);return as&&(f?f.push(_):c&&_()),_}function vm(e,t,n){const r=this.proxy,s=Dt(e)?e.includes(".")?jh(r,e):()=>r[e]:e.bind(r,r);let i;it(t)?i=t:(i=t.handler,n=t);const a=_s(this),l=Uh(s,i.bind(r),n);return a(),l}function jh(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Em=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${hn(t)}Modifiers`]||e[`${Un(t)}Modifiers`];function Tm(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||wt;let s=n;const i=t.startsWith("update:"),a=i&&Em(r,t.slice(7));a&&(a.trim&&(s=n.map(d=>Dt(d)?d.trim():d)),a.number&&(s=n.map(ri)));let l,c=r[l=fo(t)]||r[l=fo(hn(t))];!c&&i&&(c=r[l=fo(Un(t))]),c&&Oe(c,e,6,s);const f=r[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Oe(f,e,6,s)}}function $h(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},l=!1;if(!it(e)){const c=f=>{const d=$h(f,t,!0);d&&(l=!0,ie(a,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(bt(e)&&r.set(e,null),null):(tt(i)?i.forEach(c=>a[c]=null):ie(a,i),bt(e)&&r.set(e,a),a)}function Ni(e,t){return!e||!Ci(t)?!1:(t=t.slice(2).replace(/Once$/,""),yt(e,t[0].toLowerCase()+t.slice(1))||yt(e,Un(t))||yt(e,t))}function cu(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:l,emit:c,render:f,renderCache:d,props:m,data:_,setupState:b,ctx:V,inheritAttrs:O}=e,F=ai(e);let Y,K;try{if(n.shapeFlag&4){const H=s||r,dt=H;Y=Se(f.call(dt,H,d,m,b,_,V)),K=l}else{const H=t;Y=Se(H.length>1?H(m,{attrs:l,slots:a,emit:c}):H(m,null)),K=t.props?l:wm(l)}}catch(H){Xr.length=0,Di(H,e,1),Y=Ve(dn)}let W=Y;if(K&&O!==!1){const H=Object.keys(K),{shapeFlag:dt}=W;H.length&&dt&7&&(i&&H.some(va)&&(K=Im(K,i)),W=ur(W,K,!1,!0))}return n.dirs&&(W=ur(W,null,!1,!0),W.dirs=W.dirs?W.dirs.concat(n.dirs):n.dirs),n.transition&&Oa(W,n.transition),Y=W,ai(F),Y}const wm=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ci(n))&&((t||(t={}))[n]=e[n]);return t},Im=(e,t)=>{const n={};for(const r in e)(!va(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Am(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:l,patchFlag:c}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?hu(r,a,f):!!a;if(c&8){const d=t.dynamicProps;for(let m=0;m<d.length;m++){const _=d[m];if(a[_]!==r[_]&&!Ni(f,_))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?hu(r,a,f):!0:!!a;return!1}function hu(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Ni(n,i))return!0}return!1}function bm({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const qh=e=>e.__isSuspense;function Cm(e,t){t&&t.pendingBranch?tt(e)?t.effects.push(...e):t.effects.push(e):kp(e)}const ve=Symbol.for("v-fgt"),Mi=Symbol.for("v-txt"),dn=Symbol.for("v-cmt"),wo=Symbol.for("v-stc"),Xr=[];let fe=null;function nn(e=!1){Xr.push(fe=e?null:[])}function Sm(){Xr.pop(),fe=Xr[Xr.length-1]||null}let os=1;function fu(e,t=!1){os+=e,e<0&&fe&&t&&(fe.hasOnce=!0)}function Hh(e){return e.dynamicChildren=os>0?fe||Zn:null,Sm(),os>0&&fe&&fe.push(e),e}function xn(e,t,n,r,s,i){return Hh(at(e,t,n,r,s,i,!0))}function Rm(e,t,n,r,s){return Hh(Ve(e,t,n,r,s,!0))}function zh(e){return e?e.__v_isVNode===!0:!1}function Br(e,t){return e.type===t.type&&e.key===t.key}const Wh=({key:e})=>e??null,Ys=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Dt(e)||Zt(e)||it(e)?{i:me,r:e,k:t,f:!!n}:e:null);function at(e,t=null,n=null,r=0,s=null,i=e===ve?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Wh(t),ref:t&&Ys(t),scopeId:Th,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:me};return l?(ka(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=Dt(n)?8:16),os>0&&!a&&fe&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&fe.push(c),c}const Ve=Pm;function Pm(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Xp)&&(e=dn),zh(e)){const l=ur(e,t,!0);return n&&ka(l,n),os>0&&!i&&fe&&(l.shapeFlag&6?fe[fe.indexOf(e)]=l:fe.push(l)),l.patchFlag=-2,l}if(Um(e)&&(e=e.__vccOpts),t){t=Vm(t);let{class:l,style:c}=t;l&&!Dt(l)&&(t.class=Ia(l)),bt(c)&&(xa(c)&&!tt(c)&&(c=ie({},c)),t.style=wa(c))}const a=Dt(e)?1:qh(e)?128:Bp(e)?64:bt(e)?4:it(e)?2:0;return at(e,t,n,r,s,a,i,!0)}function Vm(e){return e?xa(e)||Dh(e)?ie({},e):e:null}function ur(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:l,transition:c}=e,f=t?Dm(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Wh(f),ref:t&&t.ref?n&&i?tt(i)?i.concat(Ys(t)):[i,Ys(t)]:Ys(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ve?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ur(e.ssContent),ssFallback:e.ssFallback&&ur(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Oa(d,c.clone(d)),d}function Kh(e=" ",t=0){return Ve(Mi,null,e,t)}function xm(e="",t=!1){return t?(nn(),Rm(dn,null,e)):Ve(dn,null,e)}function Se(e){return e==null||typeof e=="boolean"?Ve(dn):tt(e)?Ve(ve,null,e.slice()):zh(e)?rn(e):Ve(Mi,null,String(e))}function rn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ur(e)}function ka(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(tt(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),ka(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Dh(t)?t._ctx=me:s===3&&me&&(me.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else it(t)?(t={default:t,_ctx:me},n=32):(t=String(t),r&64?(n=16,t=[Kh(t)]):n=8);e.children=t,e.shapeFlag|=n}function Dm(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Ia([t.class,r.class]));else if(s==="style")t.style=wa([t.style,r.style]);else if(Ci(s)){const i=t[s],a=r[s];a&&i!==a&&!(tt(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function Ie(e,t,n,r=null){Oe(e,t,7,[n,r])}const Om=Ph();let Nm=0;function Mm(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Om,i={uid:Nm++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Nh(r,s),emitsOptions:$h(r,s),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:r.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Tm.bind(null,i),e.ce&&e.ce(i),i}let re=null,ci,Wo;{const e=Pi(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};ci=t("__VUE_INSTANCE_SETTERS__",n=>re=n),Wo=t("__VUE_SSR_SETTERS__",n=>as=n)}const _s=e=>{const t=re;return ci(e),e.scope.on(),()=>{e.scope.off(),ci(t)}},du=()=>{re&&re.scope.off(),ci(null)};function Gh(e){return e.vnode.shapeFlag&4}let as=!1;function km(e,t=!1,n=!1){t&&Wo(t);const{props:r,children:s}=e.vnode,i=Gh(e);am(e,r,i,t),hm(e,s,n||t);const a=i?Lm(e,t):void 0;return t&&Wo(!1),a}function Lm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Jp);const{setup:r}=n;if(r){He();const s=e.setupContext=r.length>1?Bm(e):null,i=_s(e),a=gs(r,e,0,[e.props,s]),l=Wc(a);if(ze(),i(),(l||e.sp)&&!Qr(e)&&wh(e),l){if(a.then(du,du),t)return a.then(c=>{pu(e,c)}).catch(c=>{Di(c,e,0)});e.asyncDep=a}else pu(e,a)}else Qh(e)}function pu(e,t,n){it(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:bt(t)&&(e.setupState=mh(t)),Qh(e)}function Qh(e,t,n){const r=e.type;e.render||(e.render=r.render||Pe);{const s=_s(e);He();try{Zp(e)}finally{ze(),s()}}}const Fm={get(e,t){return Xt(e,"get",""),e[t]}};function Bm(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Fm),slots:e.slots,emit:e.emit,expose:t}}function ki(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(mh(bp(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Yr)return Yr[n](e)},has(t,n){return n in t||n in Yr}})):e.proxy}function Um(e){return it(e)&&"__vccOpts"in e}const Yh=(e,t)=>xp(e,t,as),jm="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ko;const mu=typeof window<"u"&&window.trustedTypes;if(mu)try{Ko=mu.createPolicy("vue",{createHTML:e=>e})}catch{}const Xh=Ko?e=>Ko.createHTML(e):e=>e,$m="http://www.w3.org/2000/svg",qm="http://www.w3.org/1998/Math/MathML",je=typeof document<"u"?document:null,gu=je&&je.createElement("template"),Hm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?je.createElementNS($m,e):t==="mathml"?je.createElementNS(qm,e):n?je.createElement(e,{is:n}):je.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>je.createTextNode(e),createComment:e=>je.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>je.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{gu.innerHTML=Xh(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=gu.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},zm=Symbol("_vtc");function Wm(e,t,n){const r=e[zm];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const _u=Symbol("_vod"),Km=Symbol("_vsh"),Gm=Symbol(""),Qm=/(^|;)\s*display\s*:/;function Ym(e,t,n){const r=e.style,s=Dt(n);let i=!1;if(n&&!s){if(t)if(Dt(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Xs(r,l,"")}else for(const a in t)n[a]==null&&Xs(r,a,"");for(const a in n)a==="display"&&(i=!0),Xs(r,a,n[a])}else if(s){if(t!==n){const a=r[Gm];a&&(n+=";"+a),r.cssText=n,i=Qm.test(n)}}else t&&e.removeAttribute("style");_u in e&&(e[_u]=i?r.display:"",e[Km]&&(r.display="none"))}const yu=/\s*!important$/;function Xs(e,t,n){if(tt(n))n.forEach(r=>Xs(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Xm(e,t);yu.test(n)?e.setProperty(Un(r),n.replace(yu,""),"important"):e[r]=n}}const vu=["Webkit","Moz","ms"],Io={};function Xm(e,t){const n=Io[t];if(n)return n;let r=hn(t);if(r!=="filter"&&r in e)return Io[t]=r;r=Qc(r);for(let s=0;s<vu.length;s++){const i=vu[s]+r;if(i in e)return Io[t]=i}return t}const Eu="http://www.w3.org/1999/xlink";function Tu(e,t,n,r,s,i=ep(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Eu,t.slice(6,t.length)):e.setAttributeNS(Eu,t,n):n==null||i&&!Xc(n)?e.removeAttribute(t):e.setAttribute(t,i?"":De(n)?String(n):n)}function wu(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Xh(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Xc(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(s||t)}function Nn(e,t,n,r){e.addEventListener(t,n,r)}function Jm(e,t,n,r){e.removeEventListener(t,n,r)}const Iu=Symbol("_vei");function Zm(e,t,n,r,s=null){const i=e[Iu]||(e[Iu]={}),a=i[t];if(r&&a)a.value=r;else{const[l,c]=tg(t);if(r){const f=i[t]=rg(r,s);Nn(e,l,f,c)}else a&&(Jm(e,l,a,c),i[t]=void 0)}}const Au=/(?:Once|Passive|Capture)$/;function tg(e){let t;if(Au.test(e)){t={};let r;for(;r=e.match(Au);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Un(e.slice(2)),t]}let Ao=0;const eg=Promise.resolve(),ng=()=>Ao||(eg.then(()=>Ao=0),Ao=Date.now());function rg(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Oe(sg(r,n.value),t,5,[r])};return n.value=e,n.attached=ng(),n}function sg(e,t){if(tt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const bu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ig=(e,t,n,r,s,i)=>{const a=s==="svg";t==="class"?Wm(e,r,a):t==="style"?Ym(e,n,r):Ci(t)?va(t)||Zm(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):og(e,t,r,a))?(wu(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Tu(e,t,r,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Dt(r))?wu(e,hn(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Tu(e,t,r,a))};function og(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&bu(t)&&it(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return bu(t)&&Dt(n)?!1:t in e}const hi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return tt(t)?n=>Gs(t,n):t};function ag(e){e.target.composing=!0}function Cu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const sr=Symbol("_assign"),Su={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[sr]=hi(s);const i=r||s.props&&s.props.type==="number";Nn(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=ri(l)),e[sr](l)}),n&&Nn(e,"change",()=>{e.value=e.value.trim()}),t||(Nn(e,"compositionstart",ag),Nn(e,"compositionend",Cu),Nn(e,"change",Cu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},a){if(e[sr]=hi(a),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?ri(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===c)||(e.value=c))}},lg={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=Si(t);Nn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?ri(fi(a)):fi(a));e[sr](e.multiple?s?new Set(i):i:i[0]),e._assigning=!0,_h(()=>{e._assigning=!1})}),e[sr]=hi(r)},mounted(e,{value:t}){Ru(e,t)},beforeUpdate(e,t,n){e[sr]=hi(n)},updated(e,{value:t}){e._assigning||Ru(e,t)}};function Ru(e,t){const n=e.multiple,r=tt(t);if(!(n&&!r&&!Si(t))){for(let s=0,i=e.options.length;s<i;s++){const a=e.options[s],l=fi(a);if(n)if(r){const c=typeof l;c==="string"||c==="number"?a.selected=t.some(f=>String(f)===String(l)):a.selected=rp(t,l)>-1}else a.selected=t.has(l);else if(Vi(fi(a),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function fi(e){return"_value"in e?e._value:e.value}const ug=ie({patchProp:ig},Hm);let Pu;function cg(){return Pu||(Pu=dm(ug))}const hg=(...e)=>{const t=cg().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=dg(r);if(!s)return;const i=t._component;!it(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,fg(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function fg(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function dg(e){return Dt(e)?document.querySelector(e):e}const pg="/student-recycle-dashboard/assets/logo-DMlNQp5X.jpeg",mg=()=>{};var Vu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},gg=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],a=e[n++],l=e[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},Zh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],a=s+1<e.length,l=a?e[s+1]:0,c=s+2<e.length,f=c?e[s+2]:0,d=i>>2,m=(i&3)<<4|l>>4;let _=(l&15)<<2|f>>6,b=f&63;c||(b=64,a||(_=64)),r.push(n[d],n[m],n[_],n[b])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jh(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gg(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const m=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||f==null||m==null)throw new _g;const _=i<<2|l>>4;if(r.push(_),f!==64){const b=l<<4&240|f>>2;if(r.push(b),m!==64){const V=f<<6&192|m;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _g extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yg=function(e){const t=Jh(e);return Zh.encodeByteArray(t,!0)},di=function(e){return yg(e).replace(/\./g,"")},vg=function(e){try{return Zh.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=()=>Eg().__FIREBASE_DEFAULTS__,wg=()=>{if(typeof process>"u"||typeof Vu>"u")return;const e=Vu.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Ig=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&vg(e[1]);return t&&JSON.parse(t)},La=()=>{try{return mg()||Tg()||wg()||Ig()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ag=e=>{var t,n;return(n=(t=La())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},bg=e=>{const t=Ag(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},tf=()=>{var e;return(e=La())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(e){return e.endsWith(".cloudworkstations.dev")}async function Sg(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[di(JSON.stringify(n)),di(JSON.stringify(a)),""].join(".")}const Jr={};function Pg(){const e={prod:[],emulator:[]};for(const t of Object.keys(Jr))Jr[t]?e.emulator.push(t):e.prod.push(t);return e}function Vg(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let xu=!1;function xg(e,t){if(typeof window>"u"||typeof document>"u"||!Fa(window.location.host)||Jr[e]===t||Jr[e]||xu)return;Jr[e]=t;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",i=Pg().prod.length>0;function a(){const _=document.getElementById(r);_&&_.remove()}function l(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,b){_.setAttribute("width","24"),_.setAttribute("id",b),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{xu=!0,a()},_}function d(_,b){_.setAttribute("id",b),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function m(){const _=Vg(r),b=n("text"),V=document.getElementById(b)||document.createElement("span"),O=n("learnmore"),F=document.getElementById(O)||document.createElement("a"),Y=n("preprendIcon"),K=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const W=_.element;l(W),d(F,O);const H=f();c(K,Y),W.append(K,V,F,H),document.body.appendChild(W)}i?(V.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Og(){var e;const t=(e=La())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ng(){return!Og()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mg(){try{return typeof indexedDB=="object"}catch{return!1}}function kg(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="FirebaseError";class _r extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Lg,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ef.prototype.create)}}class ef{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?Fg(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new _r(s,l,r)}}function Fg(e,t){return e.replace(Bg,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const Bg=/\{\$([^}]+)}/g;function pi(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],a=t[s];if(Du(i)&&Du(a)){if(!pi(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Du(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(e){return e&&e._delegate?e._delegate:e}class ls{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Cg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qg(t))try{this.getOrInitializeService({instanceIdentifier:Dn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Dn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Dn){return this.instances.has(t)}getOptions(t=Dn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&t(a,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$g(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Dn){return this.component?this.component.multipleInstances?t:Dn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $g(e){return e===Dn?void 0:e}function qg(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new jg(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ct||(ct={}));const zg={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},Wg=ct.INFO,Kg={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},Gg=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Kg[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class nf{constructor(t){this.name=t,this._logLevel=Wg,this._logHandler=Gg,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zg[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...t),this._logHandler(this,ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...t),this._logHandler(this,ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...t),this._logHandler(this,ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...t),this._logHandler(this,ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...t),this._logHandler(this,ct.ERROR,...t)}}const Qg=(e,t)=>t.some(n=>e instanceof n);let Ou,Nu;function Yg(){return Ou||(Ou=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xg(){return Nu||(Nu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rf=new WeakMap,Go=new WeakMap,sf=new WeakMap,bo=new WeakMap,Ba=new WeakMap;function Jg(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(ln(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&rf.set(n,e)}).catch(()=>{}),Ba.set(t,e),t}function Zg(e){if(Go.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Go.set(e,t)}let Qo={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Go.get(e);if(t==="objectStoreNames")return e.objectStoreNames||sf.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ln(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function t_(e){Qo=e(Qo)}function e_(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Co(this),t,...n);return sf.set(r,t.sort?t.sort():[t]),ln(r)}:Xg().includes(e)?function(...t){return e.apply(Co(this),t),ln(rf.get(this))}:function(...t){return ln(e.apply(Co(this),t))}}function n_(e){return typeof e=="function"?e_(e):(e instanceof IDBTransaction&&Zg(e),Qg(e,Yg())?new Proxy(e,Qo):e)}function ln(e){if(e instanceof IDBRequest)return Jg(e);if(bo.has(e))return bo.get(e);const t=n_(e);return t!==e&&(bo.set(e,t),Ba.set(t,e)),t}const Co=e=>Ba.get(e);function r_(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),l=ln(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ln(a.result),c.oldVersion,c.newVersion,ln(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const s_=["get","getKey","getAll","getAllKeys","count"],i_=["put","add","delete","clear"],So=new Map;function Mu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(So.get(t))return So.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=i_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||s_.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),s&&c.done]))[0]};return So.set(t,i),i}t_(e=>({...e,get:(t,n,r)=>Mu(t,n)||e.get(t,n,r),has:(t,n)=>!!Mu(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function a_(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Yo="@firebase/app",ku="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We=new nf("@firebase/app"),l_="@firebase/app-compat",u_="@firebase/analytics-compat",c_="@firebase/analytics",h_="@firebase/app-check-compat",f_="@firebase/app-check",d_="@firebase/auth",p_="@firebase/auth-compat",m_="@firebase/database",g_="@firebase/data-connect",__="@firebase/database-compat",y_="@firebase/functions",v_="@firebase/functions-compat",E_="@firebase/installations",T_="@firebase/installations-compat",w_="@firebase/messaging",I_="@firebase/messaging-compat",A_="@firebase/performance",b_="@firebase/performance-compat",C_="@firebase/remote-config",S_="@firebase/remote-config-compat",R_="@firebase/storage",P_="@firebase/storage-compat",V_="@firebase/firestore",x_="@firebase/ai",D_="@firebase/firestore-compat",O_="firebase",N_="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="[DEFAULT]",M_={[Yo]:"fire-core",[l_]:"fire-core-compat",[c_]:"fire-analytics",[u_]:"fire-analytics-compat",[f_]:"fire-app-check",[h_]:"fire-app-check-compat",[d_]:"fire-auth",[p_]:"fire-auth-compat",[m_]:"fire-rtdb",[g_]:"fire-data-connect",[__]:"fire-rtdb-compat",[y_]:"fire-fn",[v_]:"fire-fn-compat",[E_]:"fire-iid",[T_]:"fire-iid-compat",[w_]:"fire-fcm",[I_]:"fire-fcm-compat",[A_]:"fire-perf",[b_]:"fire-perf-compat",[C_]:"fire-rc",[S_]:"fire-rc-compat",[R_]:"fire-gcs",[P_]:"fire-gcs-compat",[V_]:"fire-fst",[D_]:"fire-fst-compat",[x_]:"fire-vertex","fire-js":"fire-js",[O_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Map,k_=new Map,Jo=new Map;function Lu(e,t){try{e.container.addComponent(t)}catch(n){We.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function gi(e){const t=e.name;if(Jo.has(t))return We.debug(`There were multiple attempts to register component ${t}.`),!1;Jo.set(t,e);for(const n of mi.values())Lu(n,e);for(const n of k_.values())Lu(n,e);return!0}function L_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function F_(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},un=new ef("app","Firebase",B_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw un.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=N_;function of(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Xo,automaticDataCollectionEnabled:!0},t),s=r.name;if(typeof s!="string"||!s)throw un.create("bad-app-name",{appName:String(s)});if(n||(n=tf()),!n)throw un.create("no-options");const i=mi.get(s);if(i){if(pi(n,i.options)&&pi(r,i.config))return i;throw un.create("duplicate-app",{appName:s})}const a=new Hg(s);for(const c of Jo.values())a.addComponent(c);const l=new U_(n,r,a);return mi.set(s,l),l}function $_(e=Xo){const t=mi.get(e);if(!t&&e===Xo&&tf())return of();if(!t)throw un.create("no-app",{appName:e});return t}function ir(e,t,n){var r;let s=(r=M_[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${t}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),We.warn(l.join(" "));return}gi(new ls(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="firebase-heartbeat-database",H_=1,us="firebase-heartbeat-store";let Ro=null;function af(){return Ro||(Ro=r_(q_,H_,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(us)}catch(n){console.warn(n)}}}}).catch(e=>{throw un.create("idb-open",{originalErrorMessage:e.message})})),Ro}async function z_(e){try{const n=(await af()).transaction(us),r=await n.objectStore(us).get(lf(e));return await n.done,r}catch(t){if(t instanceof _r)We.warn(t.message);else{const n=un.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});We.warn(n.message)}}}async function Fu(e,t){try{const r=(await af()).transaction(us,"readwrite");await r.objectStore(us).put(t,lf(e)),await r.done}catch(n){if(n instanceof _r)We.warn(n.message);else{const r=un.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});We.warn(r.message)}}}function lf(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=1024,K_=30;class G_{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Bu();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>K_){const a=X_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){We.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bu(),{heartbeatsToSend:r,unsentEntries:s}=Q_(this._heartbeatsCache.heartbeats),i=di(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return We.warn(n),""}}}function Bu(){return new Date().toISOString().substring(0,10)}function Q_(e,t=W_){const n=[];let r=e.slice();for(const s of e){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Uu(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Uu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Y_{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mg()?kg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z_(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Uu(e){return di(JSON.stringify({version:2,heartbeats:e})).length}function X_(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(e){gi(new ls("platform-logger",t=>new o_(t),"PRIVATE")),gi(new ls("heartbeat",t=>new G_(t),"PRIVATE")),ir(Yo,ku,e),ir(Yo,ku,"esm2017"),ir("fire-js","")}J_("");var Z_="firebase",ty="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(Z_,ty,"app");var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cn,uf;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,g){function E(){}E.prototype=g.prototype,I.D=g.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(w,A,S){for(var v=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)v[ue-2]=arguments[ue];return g.prototype[A].apply(w,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,g,E){E||(E=0);var w=Array(16);if(typeof g=="string")for(var A=0;16>A;++A)w[A]=g.charCodeAt(E++)|g.charCodeAt(E++)<<8|g.charCodeAt(E++)<<16|g.charCodeAt(E++)<<24;else for(A=0;16>A;++A)w[A]=g[E++]|g[E++]<<8|g[E++]<<16|g[E++]<<24;g=I.g[0],E=I.g[1],A=I.g[2];var S=I.g[3],v=g+(S^E&(A^S))+w[0]+3614090360&4294967295;g=E+(v<<7&4294967295|v>>>25),v=S+(A^g&(E^A))+w[1]+3905402710&4294967295,S=g+(v<<12&4294967295|v>>>20),v=A+(E^S&(g^E))+w[2]+606105819&4294967295,A=S+(v<<17&4294967295|v>>>15),v=E+(g^A&(S^g))+w[3]+3250441966&4294967295,E=A+(v<<22&4294967295|v>>>10),v=g+(S^E&(A^S))+w[4]+4118548399&4294967295,g=E+(v<<7&4294967295|v>>>25),v=S+(A^g&(E^A))+w[5]+1200080426&4294967295,S=g+(v<<12&4294967295|v>>>20),v=A+(E^S&(g^E))+w[6]+2821735955&4294967295,A=S+(v<<17&4294967295|v>>>15),v=E+(g^A&(S^g))+w[7]+4249261313&4294967295,E=A+(v<<22&4294967295|v>>>10),v=g+(S^E&(A^S))+w[8]+1770035416&4294967295,g=E+(v<<7&4294967295|v>>>25),v=S+(A^g&(E^A))+w[9]+2336552879&4294967295,S=g+(v<<12&4294967295|v>>>20),v=A+(E^S&(g^E))+w[10]+4294925233&4294967295,A=S+(v<<17&4294967295|v>>>15),v=E+(g^A&(S^g))+w[11]+2304563134&4294967295,E=A+(v<<22&4294967295|v>>>10),v=g+(S^E&(A^S))+w[12]+1804603682&4294967295,g=E+(v<<7&4294967295|v>>>25),v=S+(A^g&(E^A))+w[13]+4254626195&4294967295,S=g+(v<<12&4294967295|v>>>20),v=A+(E^S&(g^E))+w[14]+2792965006&4294967295,A=S+(v<<17&4294967295|v>>>15),v=E+(g^A&(S^g))+w[15]+1236535329&4294967295,E=A+(v<<22&4294967295|v>>>10),v=g+(A^S&(E^A))+w[1]+4129170786&4294967295,g=E+(v<<5&4294967295|v>>>27),v=S+(E^A&(g^E))+w[6]+3225465664&4294967295,S=g+(v<<9&4294967295|v>>>23),v=A+(g^E&(S^g))+w[11]+643717713&4294967295,A=S+(v<<14&4294967295|v>>>18),v=E+(S^g&(A^S))+w[0]+3921069994&4294967295,E=A+(v<<20&4294967295|v>>>12),v=g+(A^S&(E^A))+w[5]+3593408605&4294967295,g=E+(v<<5&4294967295|v>>>27),v=S+(E^A&(g^E))+w[10]+38016083&4294967295,S=g+(v<<9&4294967295|v>>>23),v=A+(g^E&(S^g))+w[15]+3634488961&4294967295,A=S+(v<<14&4294967295|v>>>18),v=E+(S^g&(A^S))+w[4]+3889429448&4294967295,E=A+(v<<20&4294967295|v>>>12),v=g+(A^S&(E^A))+w[9]+568446438&4294967295,g=E+(v<<5&4294967295|v>>>27),v=S+(E^A&(g^E))+w[14]+3275163606&4294967295,S=g+(v<<9&4294967295|v>>>23),v=A+(g^E&(S^g))+w[3]+4107603335&4294967295,A=S+(v<<14&4294967295|v>>>18),v=E+(S^g&(A^S))+w[8]+1163531501&4294967295,E=A+(v<<20&4294967295|v>>>12),v=g+(A^S&(E^A))+w[13]+2850285829&4294967295,g=E+(v<<5&4294967295|v>>>27),v=S+(E^A&(g^E))+w[2]+4243563512&4294967295,S=g+(v<<9&4294967295|v>>>23),v=A+(g^E&(S^g))+w[7]+1735328473&4294967295,A=S+(v<<14&4294967295|v>>>18),v=E+(S^g&(A^S))+w[12]+2368359562&4294967295,E=A+(v<<20&4294967295|v>>>12),v=g+(E^A^S)+w[5]+4294588738&4294967295,g=E+(v<<4&4294967295|v>>>28),v=S+(g^E^A)+w[8]+2272392833&4294967295,S=g+(v<<11&4294967295|v>>>21),v=A+(S^g^E)+w[11]+1839030562&4294967295,A=S+(v<<16&4294967295|v>>>16),v=E+(A^S^g)+w[14]+4259657740&4294967295,E=A+(v<<23&4294967295|v>>>9),v=g+(E^A^S)+w[1]+2763975236&4294967295,g=E+(v<<4&4294967295|v>>>28),v=S+(g^E^A)+w[4]+1272893353&4294967295,S=g+(v<<11&4294967295|v>>>21),v=A+(S^g^E)+w[7]+4139469664&4294967295,A=S+(v<<16&4294967295|v>>>16),v=E+(A^S^g)+w[10]+3200236656&4294967295,E=A+(v<<23&4294967295|v>>>9),v=g+(E^A^S)+w[13]+681279174&4294967295,g=E+(v<<4&4294967295|v>>>28),v=S+(g^E^A)+w[0]+3936430074&4294967295,S=g+(v<<11&4294967295|v>>>21),v=A+(S^g^E)+w[3]+3572445317&4294967295,A=S+(v<<16&4294967295|v>>>16),v=E+(A^S^g)+w[6]+76029189&4294967295,E=A+(v<<23&4294967295|v>>>9),v=g+(E^A^S)+w[9]+3654602809&4294967295,g=E+(v<<4&4294967295|v>>>28),v=S+(g^E^A)+w[12]+3873151461&4294967295,S=g+(v<<11&4294967295|v>>>21),v=A+(S^g^E)+w[15]+530742520&4294967295,A=S+(v<<16&4294967295|v>>>16),v=E+(A^S^g)+w[2]+3299628645&4294967295,E=A+(v<<23&4294967295|v>>>9),v=g+(A^(E|~S))+w[0]+4096336452&4294967295,g=E+(v<<6&4294967295|v>>>26),v=S+(E^(g|~A))+w[7]+1126891415&4294967295,S=g+(v<<10&4294967295|v>>>22),v=A+(g^(S|~E))+w[14]+2878612391&4294967295,A=S+(v<<15&4294967295|v>>>17),v=E+(S^(A|~g))+w[5]+4237533241&4294967295,E=A+(v<<21&4294967295|v>>>11),v=g+(A^(E|~S))+w[12]+1700485571&4294967295,g=E+(v<<6&4294967295|v>>>26),v=S+(E^(g|~A))+w[3]+2399980690&4294967295,S=g+(v<<10&4294967295|v>>>22),v=A+(g^(S|~E))+w[10]+4293915773&4294967295,A=S+(v<<15&4294967295|v>>>17),v=E+(S^(A|~g))+w[1]+2240044497&4294967295,E=A+(v<<21&4294967295|v>>>11),v=g+(A^(E|~S))+w[8]+1873313359&4294967295,g=E+(v<<6&4294967295|v>>>26),v=S+(E^(g|~A))+w[15]+4264355552&4294967295,S=g+(v<<10&4294967295|v>>>22),v=A+(g^(S|~E))+w[6]+2734768916&4294967295,A=S+(v<<15&4294967295|v>>>17),v=E+(S^(A|~g))+w[13]+1309151649&4294967295,E=A+(v<<21&4294967295|v>>>11),v=g+(A^(E|~S))+w[4]+4149444226&4294967295,g=E+(v<<6&4294967295|v>>>26),v=S+(E^(g|~A))+w[11]+3174756917&4294967295,S=g+(v<<10&4294967295|v>>>22),v=A+(g^(S|~E))+w[2]+718787259&4294967295,A=S+(v<<15&4294967295|v>>>17),v=E+(S^(A|~g))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+g&4294967295,I.g[1]=I.g[1]+(A+(v<<21&4294967295|v>>>11))&4294967295,I.g[2]=I.g[2]+A&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.u=function(I,g){g===void 0&&(g=I.length);for(var E=g-this.blockSize,w=this.B,A=this.h,S=0;S<g;){if(A==0)for(;S<=E;)s(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<g;)if(w[A++]=I.charCodeAt(S++),A==this.blockSize){s(this,w),A=0;break}}else for(;S<g;)if(w[A++]=I[S++],A==this.blockSize){s(this,w),A=0;break}}this.h=A,this.o+=g},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var g=1;g<I.length-8;++g)I[g]=0;var E=8*this.o;for(g=I.length-8;g<I.length;++g)I[g]=E&255,E/=256;for(this.u(I),I=Array(16),g=E=0;4>g;++g)for(var w=0;32>w;w+=8)I[E++]=this.g[g]>>>w&255;return I};function i(I,g){var E=l;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=g(I)}function a(I,g){this.h=g;for(var E=[],w=!0,A=I.length-1;0<=A;A--){var S=I[A]|0;w&&S==g||(E[A]=S,w=!1)}this.g=E}var l={};function c(I){return-128<=I&&128>I?i(I,function(g){return new a([g|0],0>g?-1:0)}):new a([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return F(f(-I));for(var g=[],E=1,w=0;I>=E;w++)g[w]=I/E|0,E*=4294967296;return new a(g,0)}function d(I,g){if(I.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(I.charAt(0)=="-")return F(d(I.substring(1),g));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=f(Math.pow(g,8)),w=m,A=0;A<I.length;A+=8){var S=Math.min(8,I.length-A),v=parseInt(I.substring(A,A+S),g);8>S?(S=f(Math.pow(g,S)),w=w.j(S).add(f(v))):(w=w.j(E),w=w.add(f(v)))}return w}var m=c(0),_=c(1),b=c(16777216);e=a.prototype,e.m=function(){if(O(this))return-F(this).m();for(var I=0,g=1,E=0;E<this.g.length;E++){var w=this.i(E);I+=(0<=w?w:4294967296+w)*g,g*=4294967296}return I},e.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V(this))return"0";if(O(this))return"-"+F(this).toString(I);for(var g=f(Math.pow(I,6)),E=this,w="";;){var A=H(E,g).g;E=Y(E,A.j(g));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=A,V(E))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},e.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function V(I){if(I.h!=0)return!1;for(var g=0;g<I.g.length;g++)if(I.g[g]!=0)return!1;return!0}function O(I){return I.h==-1}e.l=function(I){return I=Y(this,I),O(I)?-1:V(I)?0:1};function F(I){for(var g=I.g.length,E=[],w=0;w<g;w++)E[w]=~I.g[w];return new a(E,~I.h).add(_)}e.abs=function(){return O(this)?F(this):this},e.add=function(I){for(var g=Math.max(this.g.length,I.g.length),E=[],w=0,A=0;A<=g;A++){var S=w+(this.i(A)&65535)+(I.i(A)&65535),v=(S>>>16)+(this.i(A)>>>16)+(I.i(A)>>>16);w=v>>>16,S&=65535,v&=65535,E[A]=v<<16|S}return new a(E,E[E.length-1]&-2147483648?-1:0)};function Y(I,g){return I.add(F(g))}e.j=function(I){if(V(this)||V(I))return m;if(O(this))return O(I)?F(this).j(F(I)):F(F(this).j(I));if(O(I))return F(this.j(F(I)));if(0>this.l(b)&&0>I.l(b))return f(this.m()*I.m());for(var g=this.g.length+I.g.length,E=[],w=0;w<2*g;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var A=0;A<I.g.length;A++){var S=this.i(w)>>>16,v=this.i(w)&65535,ue=I.i(A)>>>16,Qe=I.i(A)&65535;E[2*w+2*A]+=v*Qe,K(E,2*w+2*A),E[2*w+2*A+1]+=S*Qe,K(E,2*w+2*A+1),E[2*w+2*A+1]+=v*ue,K(E,2*w+2*A+1),E[2*w+2*A+2]+=S*ue,K(E,2*w+2*A+2)}for(w=0;w<g;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=g;w<2*g;w++)E[w]=0;return new a(E,0)};function K(I,g){for(;(I[g]&65535)!=I[g];)I[g+1]+=I[g]>>>16,I[g]&=65535,g++}function W(I,g){this.g=I,this.h=g}function H(I,g){if(V(g))throw Error("division by zero");if(V(I))return new W(m,m);if(O(I))return g=H(F(I),g),new W(F(g.g),F(g.h));if(O(g))return g=H(I,F(g)),new W(F(g.g),g.h);if(30<I.g.length){if(O(I)||O(g))throw Error("slowDivide_ only works with positive integers.");for(var E=_,w=g;0>=w.l(I);)E=dt(E),w=dt(w);var A=gt(E,1),S=gt(w,1);for(w=gt(w,2),E=gt(E,2);!V(w);){var v=S.add(w);0>=v.l(I)&&(A=A.add(E),S=v),w=gt(w,1),E=gt(E,1)}return g=Y(I,A.j(g)),new W(A,g)}for(A=m;0<=I.l(g);){for(E=Math.max(1,Math.floor(I.m()/g.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=f(E),v=S.j(g);O(v)||0<v.l(I);)E-=w,S=f(E),v=S.j(g);V(S)&&(S=_),A=A.add(S),I=Y(I,v)}return new W(A,I)}e.A=function(I){return H(this,I).h},e.and=function(I){for(var g=Math.max(this.g.length,I.g.length),E=[],w=0;w<g;w++)E[w]=this.i(w)&I.i(w);return new a(E,this.h&I.h)},e.or=function(I){for(var g=Math.max(this.g.length,I.g.length),E=[],w=0;w<g;w++)E[w]=this.i(w)|I.i(w);return new a(E,this.h|I.h)},e.xor=function(I){for(var g=Math.max(this.g.length,I.g.length),E=[],w=0;w<g;w++)E[w]=this.i(w)^I.i(w);return new a(E,this.h^I.h)};function dt(I){for(var g=I.g.length+1,E=[],w=0;w<g;w++)E[w]=I.i(w)<<1|I.i(w-1)>>>31;return new a(E,I.h)}function gt(I,g){var E=g>>5;g%=32;for(var w=I.g.length-E,A=[],S=0;S<w;S++)A[S]=0<g?I.i(S+E)>>>g|I.i(S+E+1)<<32-g:I.i(S+E);return new a(A,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uf=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=d,cn=a}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});var $s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cf,qr,hf,Js,Zo,ff,df,pf;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,h){return o==Array.prototype||o==Object.prototype||(o[u]=h.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof $s=="object"&&$s];for(var u=0;u<o.length;++u){var h=o[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function s(o,u){if(u)t:{var h=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var C=o[p];if(!(C in h))break t;h=h[C]}o=o[o.length-1],p=h[o],u=u(p),u!=p&&u!=null&&t(h,o,{configurable:!0,writable:!0,value:u})}}function i(o,u){o instanceof String&&(o+="");var h=0,p=!1,C={next:function(){if(!p&&h<o.length){var R=h++;return{value:u(R,o[R]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}s("Array.prototype.values",function(o){return o||function(){return i(this,function(u,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function f(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function d(o,u,h){return o.call.apply(o.bind,arguments)}function m(o,u,h){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),o.apply(u,C)}}return function(){return o.apply(u,arguments)}}function _(o,u,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,_.apply(null,arguments)}function b(o,u){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function V(o,u){function h(){}h.prototype=u.prototype,o.aa=u.prototype,o.prototype=new h,o.prototype.constructor=o,o.Qb=function(p,C,R){for(var U=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)U[Tt-2]=arguments[Tt];return u.prototype[C].apply(p,U)}}function O(o){const u=o.length;if(0<u){const h=Array(u);for(let p=0;p<u;p++)h[p]=o[p];return h}return[]}function F(o,u){for(let h=1;h<arguments.length;h++){const p=arguments[h];if(c(p)){const C=o.length||0,R=p.length||0;o.length=C+R;for(let U=0;U<R;U++)o[C+U]=p[U]}else o.push(p)}}class Y{constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function K(o){return/^[\s\xa0]*$/.test(o)}function W(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function H(o){return H[" "](o),o}H[" "]=function(){};var dt=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function gt(o,u,h){for(const p in o)u.call(h,o[p],p,o)}function I(o,u){for(const h in o)u.call(void 0,o[h],h,o)}function g(o){const u={};for(const h in o)u[h]=o[h];return u}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(o,u){let h,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(h in p)o[h]=p[h];for(let R=0;R<E.length;R++)h=E[R],Object.prototype.hasOwnProperty.call(p,h)&&(o[h]=p[h])}}function A(o){var u=1;o=o.split(":");const h=[];for(;0<u&&o.length;)h.push(o.shift()),u--;return o.length&&h.push(o.join(":")),h}function S(o){l.setTimeout(()=>{throw o},0)}function v(){var o=_e;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class ue{constructor(){this.h=this.g=null}add(u,h){const p=Qe.get();p.set(u,h),this.h?this.h.next=p:this.g=p,this.h=p}}var Qe=new Y(()=>new Ft,o=>o.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,pt=!1,_e=new ue,Tn=()=>{const o=l.Promise.resolve(void 0);vt=()=>{o.then(ke)}};var ke=()=>{for(var o;o=v();){try{o.h.call(o.g)}catch(h){S(h)}var u=Qe;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}pt=!1};function Ot(){this.s=this.s,this.C=this.C}Ot.prototype.s=!1,Ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Nt(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var Yi=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const h=()=>{};l.addEventListener("test",h,u),l.removeEventListener("test",h,u)}catch{}return o}();function wn(o,u){if(Nt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var h=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(dt){t:{try{H(u.nodeName);var C=!0;break t}catch{}C=!1}C||(u=null)}}else h=="mouseover"?u=o.fromElement:h=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:In[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&wn.aa.h.call(this)}}V(wn,Nt);var In={2:"touch",3:"pen",4:"mouse"};wn.prototype.h=function(){wn.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),wr=0;function ws(o,u,h,p,C){this.listener=o,this.proxy=null,this.src=u,this.type=h,this.capture=!!p,this.ha=C,this.key=++wr,this.da=this.fa=!1}function we(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ir(o){this.src=o,this.g={},this.h=0}Ir.prototype.add=function(o,u,h,p,C){var R=o.toString();o=this.g[R],o||(o=this.g[R]=[],this.h++);var U=T(o,u,p,C);return-1<U?(u=o[U],h||(u.fa=!1)):(u=new ws(u,this.src,R,!!p,C),u.fa=h,o.push(u)),u};function y(o,u){var h=u.type;if(h in o.g){var p=o.g[h],C=Array.prototype.indexOf.call(p,u,void 0),R;(R=0<=C)&&Array.prototype.splice.call(p,C,1),R&&(we(u),o.g[h].length==0&&(delete o.g[h],o.h--))}}function T(o,u,h,p){for(var C=0;C<o.length;++C){var R=o[C];if(!R.da&&R.listener==u&&R.capture==!!h&&R.ha==p)return C}return-1}var P="closure_lm_"+(1e6*Math.random()|0),M={};function D(o,u,h,p,C){if(Array.isArray(u)){for(var R=0;R<u.length;R++)D(o,u[R],h,p,C);return null}return h=Z(h),o&&o[Le]?o.K(u,h,f(p)?!!p.capture:!1,C):N(o,u,h,!1,p,C)}function N(o,u,h,p,C,R){if(!u)throw Error("Invalid event type");var U=f(C)?!!C.capture:!!C,Tt=$(o);if(Tt||(o[P]=Tt=new Ir(o)),h=Tt.add(u,h,p,U,R),h.proxy)return h;if(p=q(),h.proxy=p,p.src=o,p.listener=h,o.addEventListener)Yi||(C=U),C===void 0&&(C=!1),o.addEventListener(u.toString(),p,C);else if(o.attachEvent)o.attachEvent(k(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function q(){function o(h){return u.call(o.src,o.listener,h)}const u=Q;return o}function B(o,u,h,p,C){if(Array.isArray(u))for(var R=0;R<u.length;R++)B(o,u[R],h,p,C);else p=f(p)?!!p.capture:!!p,h=Z(h),o&&o[Le]?(o=o.i,u=String(u).toString(),u in o.g&&(R=o.g[u],h=T(R,h,p,C),-1<h&&(we(R[h]),Array.prototype.splice.call(R,h,1),R.length==0&&(delete o.g[u],o.h--)))):o&&(o=$(o))&&(u=o.g[u.toString()],o=-1,u&&(o=T(u,h,p,C)),(h=-1<o?u[o]:null)&&L(h))}function L(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[Le])y(u.i,o);else{var h=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(h,p,o.capture):u.detachEvent?u.detachEvent(k(h),p):u.addListener&&u.removeListener&&u.removeListener(p),(h=$(u))?(y(h,o),h.h==0&&(h.src=null,u[P]=null)):we(o)}}}function k(o){return o in M?M[o]:M[o]="on"+o}function Q(o,u){if(o.da)o=!0;else{u=new wn(u,this);var h=o.listener,p=o.ha||o.src;o.fa&&L(o),o=h.call(p,u)}return o}function $(o){return o=o[P],o instanceof Ir?o:null}var G="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(o){return typeof o=="function"?o:(o[G]||(o[G]=function(u){return o.handleEvent(u)}),o[G])}function X(){Ot.call(this),this.i=new Ir(this),this.M=this,this.F=null}V(X,Ot),X.prototype[Le]=!0,X.prototype.removeEventListener=function(o,u,h,p){B(this,o,u,h,p)};function st(o,u){var h,p=o.F;if(p)for(h=[];p;p=p.F)h.push(p);if(o=o.M,p=u.type||u,typeof u=="string")u=new Nt(u,o);else if(u instanceof Nt)u.target=u.target||o;else{var C=u;u=new Nt(p,o),w(u,C)}if(C=!0,h)for(var R=h.length-1;0<=R;R--){var U=u.g=h[R];C=lt(U,p,!0,u)&&C}if(U=u.g=o,C=lt(U,p,!0,u)&&C,C=lt(U,p,!1,u)&&C,h)for(R=0;R<h.length;R++)U=u.g=h[R],C=lt(U,p,!1,u)&&C}X.prototype.N=function(){if(X.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var h=o.g[u],p=0;p<h.length;p++)we(h[p]);delete o.g[u],o.h--}}this.F=null},X.prototype.K=function(o,u,h,p){return this.i.add(String(o),u,!1,h,p)},X.prototype.L=function(o,u,h,p){return this.i.add(String(o),u,!0,h,p)};function lt(o,u,h,p){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var C=!0,R=0;R<u.length;++R){var U=u[R];if(U&&!U.da&&U.capture==h){var Tt=U.listener,jt=U.ha||U.src;U.fa&&y(o.i,U),C=Tt.call(jt,p)!==!1&&C}}return C&&!p.defaultPrevented}function zt(o,u,h){if(typeof o=="function")h&&(o=_(o,h));else if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function Bt(o){o.g=zt(()=>{o.g=null,o.i&&(o.i=!1,Bt(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class de extends Ot{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Bt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(o){Ot.call(this),this.h=o,this.g={}}V(Wt,Ot);var Ye=[];function Ar(o){gt(o.g,function(u,h){this.g.hasOwnProperty(h)&&L(u)},o),o.g={}}Wt.prototype.N=function(){Wt.aa.N.call(this),Ar(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ut=l.JSON.stringify,pe=l.JSON.parse,Is=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Xi(){}Xi.prototype.h=null;function al(o){return o.h||(o.h=o.i())}function ll(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ji(){Nt.call(this,"d")}V(Ji,Nt);function Zi(){Nt.call(this,"c")}V(Zi,Nt);var An={},ul=null;function As(){return ul=ul||new X}An.La="serverreachability";function cl(o){Nt.call(this,An.La,o)}V(cl,Nt);function Cr(o){const u=As();st(u,new cl(u))}An.STAT_EVENT="statevent";function hl(o,u){Nt.call(this,An.STAT_EVENT,o),this.stat=u}V(hl,Nt);function te(o){const u=As();st(u,new hl(u,o))}An.Ma="timingevent";function fl(o,u){Nt.call(this,An.Ma,o),this.size=u}V(fl,Nt);function Sr(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},u)}function Rr(){this.g=!0}Rr.prototype.xa=function(){this.g=!1};function wd(o,u,h,p,C,R){o.info(function(){if(o.g)if(R)for(var U="",Tt=R.split("&"),jt=0;jt<Tt.length;jt++){var mt=Tt[jt].split("=");if(1<mt.length){var Kt=mt[0];mt=mt[1];var Gt=Kt.split("_");U=2<=Gt.length&&Gt[1]=="type"?U+(Kt+"="+mt+"&"):U+(Kt+"=redacted&")}}else U=null;else U=R;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+u+`
`+h+`
`+U})}function Id(o,u,h,p,C,R,U){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+u+`
`+h+`
`+R+" "+U})}function $n(o,u,h,p){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+bd(o,h)+(p?" "+p:"")})}function Ad(o,u){o.info(function(){return"TIMEOUT: "+u})}Rr.prototype.info=function(){};function bd(o,u){if(!o.g)return u;if(!u)return null;try{var h=JSON.parse(u);if(h){for(o=0;o<h.length;o++)if(Array.isArray(h[o])){var p=h[o];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var R=C[0];if(R!="noop"&&R!="stop"&&R!="close")for(var U=1;U<C.length;U++)C[U]=""}}}}return Ut(h)}catch{return u}}var bs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},to;function Cs(){}V(Cs,Xi),Cs.prototype.g=function(){return new XMLHttpRequest},Cs.prototype.i=function(){return{}},to=new Cs;function Xe(o,u,h,p){this.j=o,this.i=u,this.l=h,this.R=p||1,this.U=new Wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pl}function pl(){this.i=null,this.g="",this.h=!1}var ml={},eo={};function no(o,u,h){o.L=1,o.v=Vs(Fe(u)),o.m=h,o.P=!0,gl(o,null)}function gl(o,u){o.F=Date.now(),Ss(o),o.A=Fe(o.v);var h=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),Vl(h.i,"t",p),o.C=0,h=o.j.J,o.h=new pl,o.g=Gl(o.j,h?u:null,!o.m),0<o.O&&(o.M=new de(_(o.Y,o,o.g),o.O)),u=o.U,h=o.g,p=o.ca;var C="readystatechange";Array.isArray(C)||(C&&(Ye[0]=C.toString()),C=Ye);for(var R=0;R<C.length;R++){var U=D(h,C[R],p||u.handleEvent,!1,u.h||u);if(!U)break;u.g[U.key]=U}u=o.H?g(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),Cr(),wd(o.i,o.u,o.A,o.l,o.R,o.m)}Xe.prototype.ca=function(o){o=o.target;const u=this.M;u&&Be(o)==3?u.j():this.Y(o)},Xe.prototype.Y=function(o){try{if(o==this.g)t:{const Gt=Be(this.g);var u=this.g.Ba();const zn=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Ll(this.g)))){this.J||Gt!=4||u==7||(u==8||0>=zn?Cr(3):Cr(2)),ro(this);var h=this.g.Z();this.X=h;e:if(_l(this)){var p=Ll(this.g);o="";var C=p.length,R=Be(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Pr(this);var U="";break e}this.h.i=new l.TextDecoder}for(u=0;u<C;u++)this.h.h=!0,o+=this.h.i.decode(p[u],{stream:!(R&&u==C-1)});p.length=0,this.h.g+=o,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=h==200,Id(this.i,this.u,this.A,this.l,this.R,Gt,h),this.o){if(this.T&&!this.K){e:{if(this.g){var Tt,jt=this.g;if((Tt=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Tt)){var mt=Tt;break e}}mt=null}if(h=mt)$n(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,so(this,h);else{this.o=!1,this.s=3,te(12),bn(this),Pr(this);break t}}if(this.P){h=!0;let ye;for(;!this.J&&this.C<U.length;)if(ye=Cd(this,U),ye==eo){Gt==4&&(this.s=4,te(14),h=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(ye==ml){this.s=4,te(15),$n(this.i,this.l,U,"[Invalid Chunk]"),h=!1;break}else $n(this.i,this.l,ye,null),so(this,ye);if(_l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||U.length!=0||this.h.h||(this.s=1,te(16),h=!1),this.o=this.o&&h,!h)$n(this.i,this.l,U,"[Invalid Chunked Response]"),bn(this),Pr(this);else if(0<U.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),co(Kt),Kt.M=!0,te(11))}}else $n(this.i,this.l,U,null),so(this,U);Gt==4&&bn(this),this.o&&!this.J&&(Gt==4?Hl(this.j,this):(this.o=!1,Ss(this)))}else qd(this.g),h==400&&0<U.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),bn(this),Pr(this)}}}catch{}finally{}};function _l(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Cd(o,u){var h=o.C,p=u.indexOf(`
`,h);return p==-1?eo:(h=Number(u.substring(h,p)),isNaN(h)?ml:(p+=1,p+h>u.length?eo:(u=u.slice(p,p+h),o.C=p+h,u)))}Xe.prototype.cancel=function(){this.J=!0,bn(this)};function Ss(o){o.S=Date.now()+o.I,yl(o,o.I)}function yl(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Sr(_(o.ba,o),u)}function ro(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Xe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Ad(this.i,this.A),this.L!=2&&(Cr(),te(17)),bn(this),this.s=2,Pr(this)):yl(this,this.S-o)};function Pr(o){o.j.G==0||o.J||Hl(o.j,o)}function bn(o){ro(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,Ar(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function so(o,u){try{var h=o.j;if(h.G!=0&&(h.g==o||io(h.h,o))){if(!o.K&&io(h.h,o)&&h.G==3){try{var p=h.Da.g.parse(u)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){t:if(!h.u){if(h.g)if(h.g.F+3e3<o.F)ks(h),Ns(h);else break t;uo(h),te(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=Sr(_(h.Za,h),6e3));if(1>=Tl(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Sn(h,11)}else if((o.K||h.g==o)&&ks(h),!K(u))for(C=h.Da.g.parse(u),u=0;u<C.length;u++){let mt=C[u];if(h.T=mt[0],mt=mt[1],h.G==2)if(mt[0]=="c"){h.K=mt[1],h.ia=mt[2];const Kt=mt[3];Kt!=null&&(h.la=Kt,h.j.info("VER="+h.la));const Gt=mt[4];Gt!=null&&(h.Aa=Gt,h.j.info("SVER="+h.Aa));const zn=mt[5];zn!=null&&typeof zn=="number"&&0<zn&&(p=1.5*zn,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;const ye=o.g;if(ye){const Fs=ye.g?ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fs){var R=p.h;R.g||Fs.indexOf("spdy")==-1&&Fs.indexOf("quic")==-1&&Fs.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(oo(R,R.h),R.h=null))}if(p.D){const ho=ye.g?ye.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(p.ya=ho,At(p.I,p.D,ho))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-o.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var U=o;if(p.qa=Kl(p,p.J?p.ia:null,p.W),U.K){wl(p.h,U);var Tt=U,jt=p.L;jt&&(Tt.I=jt),Tt.B&&(ro(Tt),Ss(Tt)),p.g=U}else $l(p);0<h.i.length&&Ms(h)}else mt[0]!="stop"&&mt[0]!="close"||Sn(h,7);else h.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?Sn(h,7):lo(h):mt[0]!="noop"&&h.l&&h.l.ta(mt),h.v=0)}}Cr(4)}catch{}}var Sd=class{constructor(o,u){this.g=o,this.map=u}};function vl(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function El(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Tl(o){return o.h?1:o.g?o.g.size:0}function io(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function oo(o,u){o.g?o.g.add(u):o.h=u}function wl(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}vl.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Il(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const h of o.g.values())u=u.concat(h.D);return u}return O(o.i)}function Rd(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(c(o)){for(var u=[],h=o.length,p=0;p<h;p++)u.push(o[p]);return u}u=[],h=0;for(p in o)u[h++]=o[p];return u}function Pd(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(c(o)||typeof o=="string"){var u=[];o=o.length;for(var h=0;h<o;h++)u.push(h);return u}u=[],h=0;for(const p in o)u[h++]=p;return u}}}function Al(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(c(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var h=Pd(o),p=Rd(o),C=p.length,R=0;R<C;R++)u.call(void 0,p[R],h&&h[R],o)}var bl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vd(o,u){if(o){o=o.split("&");for(var h=0;h<o.length;h++){var p=o[h].indexOf("="),C=null;if(0<=p){var R=o[h].substring(0,p);C=o[h].substring(p+1)}else R=o[h];u(R,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Cn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Cn){this.h=o.h,Rs(this,o.j),this.o=o.o,this.g=o.g,Ps(this,o.s),this.l=o.l;var u=o.i,h=new Dr;h.i=u.i,u.g&&(h.g=new Map(u.g),h.h=u.h),Cl(this,h),this.m=o.m}else o&&(u=String(o).match(bl))?(this.h=!1,Rs(this,u[1]||"",!0),this.o=Vr(u[2]||""),this.g=Vr(u[3]||"",!0),Ps(this,u[4]),this.l=Vr(u[5]||"",!0),Cl(this,u[6]||"",!0),this.m=Vr(u[7]||"")):(this.h=!1,this.i=new Dr(null,this.h))}Cn.prototype.toString=function(){var o=[],u=this.j;u&&o.push(xr(u,Sl,!0),":");var h=this.g;return(h||u=="file")&&(o.push("//"),(u=this.o)&&o.push(xr(u,Sl,!0),"@"),o.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&o.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&o.push("/"),o.push(xr(h,h.charAt(0)=="/"?Od:Dd,!0))),(h=this.i.toString())&&o.push("?",h),(h=this.m)&&o.push("#",xr(h,Md)),o.join("")};function Fe(o){return new Cn(o)}function Rs(o,u,h){o.j=h?Vr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Ps(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function Cl(o,u,h){u instanceof Dr?(o.i=u,kd(o.i,o.h)):(h||(u=xr(u,Nd)),o.i=new Dr(u,o.h))}function At(o,u,h){o.i.set(u,h)}function Vs(o){return At(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Vr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function xr(o,u,h){return typeof o=="string"?(o=encodeURI(o).replace(u,xd),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function xd(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Sl=/[#\/\?@]/g,Dd=/[#\?:]/g,Od=/[#\?]/g,Nd=/[#\?@]/g,Md=/#/g;function Dr(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function Je(o){o.g||(o.g=new Map,o.h=0,o.i&&Vd(o.i,function(u,h){o.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}e=Dr.prototype,e.add=function(o,u){Je(this),this.i=null,o=qn(this,o);var h=this.g.get(o);return h||this.g.set(o,h=[]),h.push(u),this.h+=1,this};function Rl(o,u){Je(o),u=qn(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Pl(o,u){return Je(o),u=qn(o,u),o.g.has(u)}e.forEach=function(o,u){Je(this),this.g.forEach(function(h,p){h.forEach(function(C){o.call(u,C,p,this)},this)},this)},e.na=function(){Je(this);const o=Array.from(this.g.values()),u=Array.from(this.g.keys()),h=[];for(let p=0;p<u.length;p++){const C=o[p];for(let R=0;R<C.length;R++)h.push(u[p])}return h},e.V=function(o){Je(this);let u=[];if(typeof o=="string")Pl(this,o)&&(u=u.concat(this.g.get(qn(this,o))));else{o=Array.from(this.g.values());for(let h=0;h<o.length;h++)u=u.concat(o[h])}return u},e.set=function(o,u){return Je(this),this.i=null,o=qn(this,o),Pl(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},e.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function Vl(o,u,h){Rl(o,u),0<h.length&&(o.i=null,o.g.set(qn(o,u),O(h)),o.h+=h.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(var h=0;h<u.length;h++){var p=u[h];const R=encodeURIComponent(String(p)),U=this.V(p);for(p=0;p<U.length;p++){var C=R;U[p]!==""&&(C+="="+encodeURIComponent(String(U[p]))),o.push(C)}}return this.i=o.join("&")};function qn(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function kd(o,u){u&&!o.j&&(Je(o),o.i=null,o.g.forEach(function(h,p){var C=p.toLowerCase();p!=C&&(Rl(this,p),Vl(this,C,h))},o)),o.j=u}function Ld(o,u){const h=new Rr;if(l.Image){const p=new Image;p.onload=b(Ze,h,"TestLoadImage: loaded",!0,u,p),p.onerror=b(Ze,h,"TestLoadImage: error",!1,u,p),p.onabort=b(Ze,h,"TestLoadImage: abort",!1,u,p),p.ontimeout=b(Ze,h,"TestLoadImage: timeout",!1,u,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else u(!1)}function Fd(o,u){const h=new Rr,p=new AbortController,C=setTimeout(()=>{p.abort(),Ze(h,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:p.signal}).then(R=>{clearTimeout(C),R.ok?Ze(h,"TestPingServer: ok",!0,u):Ze(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(C),Ze(h,"TestPingServer: error",!1,u)})}function Ze(o,u,h,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(h)}catch{}}function Bd(){this.g=new Is}function Ud(o,u,h){const p=h||"";try{Al(o,function(C,R){let U=C;f(C)&&(U=Ut(C)),u.push(p+R+"="+encodeURIComponent(U))})}catch(C){throw u.push(p+"type="+encodeURIComponent("_badmap")),C}}function xs(o){this.l=o.Ub||null,this.j=o.eb||!1}V(xs,Xi),xs.prototype.g=function(){return new Ds(this.l,this.j)},xs.prototype.i=function(o){return function(){return o}}({});function Ds(o,u){X.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ds,X),e=Ds.prototype,e.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,Nr(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||l).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xl(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function xl(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Or(this):Nr(this),this.readyState==3&&xl(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,Or(this))},e.Qa=function(o){this.g&&(this.response=o,Or(this))},e.ga=function(){this.g&&Or(this)};function Or(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Nr(o)}e.setRequestHeader=function(o,u){this.u.append(o,u)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,o.push(h[0]+": "+h[1]),h=u.next();return o.join(`\r
`)};function Nr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Dl(o){let u="";return gt(o,function(h,p){u+=p,u+=":",u+=h,u+=`\r
`}),u}function ao(o,u,h){t:{for(p in h){var p=!1;break t}p=!0}p||(h=Dl(h),typeof o=="string"?h!=null&&encodeURIComponent(String(h)):At(o,u,h))}function St(o){X.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(St,X);var jd=/^https?$/i,$d=["POST","PUT"];e=St.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,u,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():to.g(),this.v=this.o?al(this.o):al(to),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(R){Ol(this,R);return}if(o=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)h.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const R of p.keys())h.set(R,p.get(R));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(R=>R.toLowerCase()=="content-type"),C=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call($d,u,void 0))||p||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[R,U]of h)this.g.setRequestHeader(R,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kl(this),this.u=!0,this.g.send(o),this.u=!1}catch(R){Ol(this,R)}};function Ol(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,Nl(o),Os(o)}function Nl(o){o.A||(o.A=!0,st(o,"complete"),st(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,st(this,"complete"),st(this,"abort"),Os(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Os(this,!0)),St.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ml(this):this.bb())},e.bb=function(){Ml(this)};function Ml(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Be(o)!=4||o.Z()!=2)){if(o.u&&Be(o)==4)zt(o.Ea,0,o);else if(st(o,"readystatechange"),Be(o)==4){o.h=!1;try{const U=o.Z();t:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var h;if(!(h=u)){var p;if(p=U===0){var C=String(o.D).match(bl)[1]||null;!C&&l.self&&l.self.location&&(C=l.self.location.protocol.slice(0,-1)),p=!jd.test(C?C.toLowerCase():"")}h=p}if(h)st(o,"complete"),st(o,"success");else{o.m=6;try{var R=2<Be(o)?o.g.statusText:""}catch{R=""}o.l=R+" ["+o.Z()+"]",Nl(o)}}finally{Os(o)}}}}function Os(o,u){if(o.g){kl(o);const h=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||st(o,"ready");try{h.onreadystatechange=p}catch{}}}function kl(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function Be(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<Be(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),pe(u)}};function Ll(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function qd(o){const u={};o=(o.g&&2<=Be(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(K(o[p]))continue;var h=A(o[p]);const C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const R=u[C]||[];u[C]=R,R.push(h)}I(u,function(p){return p.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(o,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[o]||u}function Fl(o){this.Aa=0,this.i=[],this.j=new Rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mr("baseRetryDelayMs",5e3,o),this.cb=Mr("retryDelaySeedMs",1e4,o),this.Wa=Mr("forwardChannelMaxRetries",2,o),this.wa=Mr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new vl(o&&o.concurrentRequestLimit),this.Da=new Bd,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Fl.prototype,e.la=8,e.G=1,e.connect=function(o,u,h,p){te(0),this.W=o,this.H=u||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=Kl(this,null,this.W),Ms(this)};function lo(o){if(Bl(o),o.G==3){var u=o.U++,h=Fe(o.I);if(At(h,"SID",o.K),At(h,"RID",u),At(h,"TYPE","terminate"),kr(o,h),u=new Xe(o,o.j,u),u.L=2,u.v=Vs(Fe(h)),h=!1,l.navigator&&l.navigator.sendBeacon)try{h=l.navigator.sendBeacon(u.v.toString(),"")}catch{}!h&&l.Image&&(new Image().src=u.v,h=!0),h||(u.g=Gl(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Ss(u)}Wl(o)}function Ns(o){o.g&&(co(o),o.g.cancel(),o.g=null)}function Bl(o){Ns(o),o.u&&(l.clearTimeout(o.u),o.u=null),ks(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Ms(o){if(!El(o.h)&&!o.s){o.s=!0;var u=o.Ga;vt||Tn(),pt||(vt(),pt=!0),_e.add(u,o),o.B=0}}function Hd(o,u){return Tl(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Sr(_(o.Ga,o,u),zl(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const C=new Xe(this,this.j,o);let R=this.o;if(this.S&&(R?(R=g(R),w(R,this.S)):R=this.S),this.m!==null||this.O||(C.H=R,R=null),this.P)t:{for(var u=0,h=0;h<this.i.length;h++){e:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(u+=p,4096<u){u=h;break t}if(u===4096||h===this.i.length-1){u=h+1;break t}}u=1e3}else u=1e3;u=jl(this,C,u),h=Fe(this.I),At(h,"RID",o),At(h,"CVER",22),this.D&&At(h,"X-HTTP-Session-Id",this.D),kr(this,h),R&&(this.O?u="headers="+encodeURIComponent(String(Dl(R)))+"&"+u:this.m&&ao(h,this.m,R)),oo(this.h,C),this.Ua&&At(h,"TYPE","init"),this.P?(At(h,"$req",u),At(h,"SID","null"),C.T=!0,no(C,h,null)):no(C,h,u),this.G=2}}else this.G==3&&(o?Ul(this,o):this.i.length==0||El(this.h)||Ul(this))};function Ul(o,u){var h;u?h=u.l:h=o.U++;const p=Fe(o.I);At(p,"SID",o.K),At(p,"RID",h),At(p,"AID",o.T),kr(o,p),o.m&&o.o&&ao(p,o.m,o.o),h=new Xe(o,o.j,h,o.B+1),o.m===null&&(h.H=o.o),u&&(o.i=u.D.concat(o.i)),u=jl(o,h,1e3),h.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),oo(o.h,h),no(h,p,u)}function kr(o,u){o.H&&gt(o.H,function(h,p){At(u,p,h)}),o.l&&Al({},function(h,p){At(u,p,h)})}function jl(o,u,h){h=Math.min(o.i.length,h);var p=o.l?_(o.l.Na,o.l,o):null;t:{var C=o.i;let R=-1;for(;;){const U=["count="+h];R==-1?0<h?(R=C[0].g,U.push("ofs="+R)):R=0:U.push("ofs="+R);let Tt=!0;for(let jt=0;jt<h;jt++){let mt=C[jt].g;const Kt=C[jt].map;if(mt-=R,0>mt)R=Math.max(0,C[jt].g-100),Tt=!1;else try{Ud(Kt,U,"req"+mt+"_")}catch{p&&p(Kt)}}if(Tt){p=U.join("&");break t}}}return o=o.i.splice(0,h),u.D=o,p}function $l(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;vt||Tn(),pt||(vt(),pt=!0),_e.add(u,o),o.v=0}}function uo(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Sr(_(o.Fa,o),zl(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,ql(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Sr(_(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Ns(this),ql(this))};function co(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function ql(o){o.g=new Xe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=Fe(o.qa);At(u,"RID","rpc"),At(u,"SID",o.K),At(u,"AID",o.T),At(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&At(u,"TO",o.ja),At(u,"TYPE","xmlhttp"),kr(o,u),o.m&&o.o&&ao(u,o.m,o.o),o.L&&(o.g.I=o.L);var h=o.g;o=o.ia,h.L=1,h.v=Vs(Fe(u)),h.m=null,h.P=!0,gl(h,o)}e.Za=function(){this.C!=null&&(this.C=null,Ns(this),uo(this),te(19))};function ks(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Hl(o,u){var h=null;if(o.g==u){ks(o),co(o),o.g=null;var p=2}else if(io(o.h,u))h=u.D,wl(o.h,u),p=1;else return;if(o.G!=0){if(u.o)if(p==1){h=u.m?u.m.length:0,u=Date.now()-u.F;var C=o.B;p=As(),st(p,new fl(p,h)),Ms(o)}else $l(o);else if(C=u.s,C==3||C==0&&0<u.X||!(p==1&&Hd(o,u)||p==2&&uo(o)))switch(h&&0<h.length&&(u=o.h,u.i=u.i.concat(h)),C){case 1:Sn(o,5);break;case 4:Sn(o,10);break;case 3:Sn(o,6);break;default:Sn(o,2)}}}function zl(o,u){let h=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(h*=2),h*u}function Sn(o,u){if(o.j.info("Error code "+u),u==2){var h=_(o.fb,o),p=o.Xa;const C=!p;p=new Cn(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Rs(p,"https"),Vs(p),C?Ld(p.toString(),h):Fd(p.toString(),h)}else te(2);o.G=0,o.l&&o.l.sa(u),Wl(o),Bl(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Wl(o){if(o.G=0,o.ka=[],o.l){const u=Il(o.h);(u.length!=0||o.i.length!=0)&&(F(o.ka,u),F(o.ka,o.i),o.h.i.length=0,O(o.i),o.i.length=0),o.l.ra()}}function Kl(o,u,h){var p=h instanceof Cn?Fe(h):new Cn(h);if(p.g!="")u&&(p.g=u+"."+p.g),Ps(p,p.s);else{var C=l.location;p=C.protocol,u=u?u+"."+C.hostname:C.hostname,C=+C.port;var R=new Cn(null);p&&Rs(R,p),u&&(R.g=u),C&&Ps(R,C),h&&(R.l=h),p=R}return h=o.D,u=o.ya,h&&u&&At(p,h,u),At(p,"VER",o.la),kr(o,p),p}function Gl(o,u,h){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new St(new xs({eb:h})):new St(o.pa),u.Ha(o.J),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ql(){}e=Ql.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ls(){}Ls.prototype.g=function(o,u){return new ce(o,u)};function ce(o,u){X.call(this),this.g=new Fl(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!K(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!K(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Hn(this)}V(ce,X),ce.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ce.prototype.close=function(){lo(this.g)},ce.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var h={};h.__data__=o,o=h}else this.u&&(h={},h.__data__=Ut(o),o=h);u.i.push(new Sd(u.Ya++,o)),u.G==3&&Ms(u)},ce.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,ce.aa.N.call(this)};function Yl(o){Ji.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){t:{for(const h in u){o=h;break t}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}V(Yl,Ji);function Xl(){Zi.call(this),this.status=1}V(Xl,Zi);function Hn(o){this.g=o}V(Hn,Ql),Hn.prototype.ua=function(){st(this.g,"a")},Hn.prototype.ta=function(o){st(this.g,new Yl(o))},Hn.prototype.sa=function(o){st(this.g,new Xl)},Hn.prototype.ra=function(){st(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,ce.prototype.send=ce.prototype.o,ce.prototype.open=ce.prototype.m,ce.prototype.close=ce.prototype.close,pf=function(){return new Ls},df=function(){return As()},ff=An,Zo={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,Js=bs,dl.COMPLETE="complete",hf=dl,ll.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",X.prototype.listen=X.prototype.K,qr=ll,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,cf=St}).apply(typeof $s<"u"?$s:typeof self<"u"?self:typeof window<"u"?window:{});const $u="@firebase/firestore",qu="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new nf("@firebase/firestore");function Qn(){return Bn.logLevel}function z(e,...t){if(Bn.logLevel<=ct.DEBUG){const n=t.map(Ua);Bn.debug(`Firestore (${yr}): ${e}`,...n)}}function Ke(e,...t){if(Bn.logLevel<=ct.ERROR){const n=t.map(Ua);Bn.error(`Firestore (${yr}): ${e}`,...n)}}function cr(e,...t){if(Bn.logLevel<=ct.WARN){const n=t.map(Ua);Bn.warn(`Firestore (${yr}): ${e}`,...n)}}function Ua(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,mf(e,r,n)}function mf(e,t,n){let r=`FIRESTORE (${yr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ke(r),new Error(r)}function Ct(e,t,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,e||mf(t,s,r)}function ht(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends _r{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ey{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class ny{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ry{constructor(t){this.t=t,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ct(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ln;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ln,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;t.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ln)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new gf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ct(t===null||typeof t=="string",2055,{h:t}),new Yt(t)}}class sy{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iy{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new sy(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hu{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oy{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,F_(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ct(this.o===void 0,3512);const r=i=>{i.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,z("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hu(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=ay(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%62))}return r}}function ot(e,t){return e<t?-1:e>t?1:0}function ta(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),s=t.codePointAt(n);if(r!==s){if(r<128&&s<128)return ot(r,s);{const i=_f(),a=uy(i.encode(zu(e,n)),i.encode(zu(t,n)));return a!==0?a:ot(r,s)}}n+=r>65535?2:1}return ot(e.length,t.length)}function zu(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function uy(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ot(e[n],t[n]);return ot(e.length,t.length)}function hr(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=-62135596800,Ku=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Ku);return new le(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Wu)throw new J(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ku}_compareTo(t){return this.seconds===t.seconds?ot(this.nanoseconds,t.nanoseconds):ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Wu;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static fromTimestamp(t){return new nt(t)}static min(){return new nt(new le(0,0))}static max(){return new nt(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu="__name__";class Ce{constructor(t,n,r){n===void 0?n=0:n>t.length&&rt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&rt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ce.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ce?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=Ce.compareSegments(t.get(s),n.get(s));if(i!==0)return i}return ot(t.length,n.length)}static compareSegments(t,n){const r=Ce.isNumericId(t),s=Ce.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ce.extractNumericId(t).compare(Ce.extractNumericId(n)):ta(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cn.fromString(t.substring(4,t.length-2))}}class Rt extends Ce{construct(t,n,r){return new Rt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new J(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const cy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends Ce{construct(t,n,r){return new se(t,n,r)}static isValidIdentifier(t){return cy.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gu}static keyField(){return new se([Gu])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(j.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new J(j.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new J(j.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new se(n)}static emptyPath(){return new se([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.path=t}static fromPath(t){return new et(Rt.fromString(t))}static fromName(t){return new et(Rt.fromString(t).popFirst(5))}static empty(){return new et(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Rt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Rt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new Rt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=-1;function hy(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=nt.fromTimestamp(r===1e9?new le(n+1,0):new le(n,r));return new pn(s,et.empty(),t)}function fy(e){return new pn(e.readTime,e.key,cs)}class pn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new pn(nt.min(),et.empty(),cs)}static max(){return new pn(nt.max(),et.empty(),cs)}}function dy(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=et.comparator(e.documentKey,t.documentKey),n!==0?n:ot(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class my{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Li(e){if(e.code!==j.FAILED_PRECONDITION||e.message!==py)throw e;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new x((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):x.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):x.reject(n)}static resolve(t){return new x((n,r)=>{n(t)})}static reject(t){return new x((n,r)=>{r(t)})}static waitFor(t){return new x((n,r)=>{let s=0,i=0,a=!1;t.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(t){let n=x.resolve(!1);for(const r of t)n=n.next(s=>s?x.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new x((r,s)=>{const i=t.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const f=c;n(t[f]).next(d=>{a[f]=d,++l,l===i&&r(a)},d=>s(d))}})}static doWhile(t,n){return new x((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function gy(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vr(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Fi.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=-1;function Bi(e){return e==null}function ea(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="";function yy(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Qu(t)),t=vy(e.get(n),t);return Qu(t)}function vy(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const i=e.charAt(s);switch(i){case"\0":n+="";break;case yf:n+="";break;default:n+=i}}return n}function Qu(e){return e+yf+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ys(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ey(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t,n){this.comparator=t,this.root=n||$t.EMPTY}insert(t,n){return new Vt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(t){return new Vt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$t.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qs(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qs(this.root,t,this.comparator,!1)}getReverseIterator(){return new qs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qs(this.root,t,this.comparator,!0)}}class qs{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $t{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??$t.RED,this.left=s??$t.EMPTY,this.right=i??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new $t(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return $t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw rt(27949);return t+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw rt(57766)}get value(){throw rt(16141)}get color(){throw rt(16727)}get left(){throw rt(29726)}get right(){throw rt(36894)}copy(t,n,r,s,i){return this}insert(t,n,r){return new $t(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t){this.comparator=t,this.data=new Vt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xu(this.data.getIterator())}getIteratorFrom(t){return new Xu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof kt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new kt(this.comparator);return n.data=t,n}}class Xu{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.fields=t,t.sort(se.comparator)}static empty(){return new sn([])}unionWith(t){let n=new kt(se.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new sn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return hr(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vf("Invalid base64 string: "+i):i}}(t);return new Ht(n)}static fromUint8Array(t){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(t);return new Ht(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const Ty=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mn(e){if(Ct(!!e,39018),typeof e=="string"){let t=0;const n=Ty.exec(e);if(Ct(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pt(e.seconds),nanos:Pt(e.nanos)}}function Pt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function gn(e){return typeof e=="string"?Ht.fromBase64String(e):Ht.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="server_timestamp",Tf="__type__",wf="__previous_value__",If="__local_write_time__";function ja(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Tf])===null||n===void 0?void 0:n.stringValue)===Ef}function Ui(e){const t=e.mapValue.fields[wf];return ja(t)?Ui(t):t}function hs(e){const t=mn(e.mapValue.fields[If].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(t,n,r,s,i,a,l,c,f,d){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d}}const _i="(default)";class fs{constructor(t,n){this.projectId=t,this.database=n||_i}static empty(){return new fs("","")}get isDefaultDatabase(){return this.database===_i}isEqual(t){return t instanceof fs&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="__type__",Ay="__max__",Hs={mapValue:{}},by="__vector__",na="value";function _n(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ja(e)?4:Sy(e)?9007199254740991:Cy(e)?10:11:rt(28295,{value:e})}function Ne(e,t){if(e===t)return!0;const n=_n(e);if(n!==_n(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hs(e).isEqual(hs(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=mn(s.timestampValue),l=mn(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return gn(s.bytesValue).isEqual(gn(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return Pt(s.geoPointValue.latitude)===Pt(i.geoPointValue.latitude)&&Pt(s.geoPointValue.longitude)===Pt(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Pt(s.integerValue)===Pt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Pt(s.doubleValue),l=Pt(i.doubleValue);return a===l?ea(a)===ea(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return hr(e.arrayValue.values||[],t.arrayValue.values||[],Ne);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Yu(a)!==Yu(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Ne(a[c],l[c])))return!1;return!0}(e,t);default:return rt(52216,{left:e})}}function ds(e,t){return(e.values||[]).find(n=>Ne(n,t))!==void 0}function fr(e,t){if(e===t)return 0;const n=_n(e),r=_n(t);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(e.booleanValue,t.booleanValue);case 2:return function(i,a){const l=Pt(i.integerValue||i.doubleValue),c=Pt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(e,t);case 3:return Ju(e.timestampValue,t.timestampValue);case 4:return Ju(hs(e),hs(t));case 5:return ta(e.stringValue,t.stringValue);case 6:return function(i,a){const l=gn(i),c=gn(a);return l.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let f=0;f<l.length&&f<c.length;f++){const d=ot(l[f],c[f]);if(d!==0)return d}return ot(l.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,a){const l=ot(Pt(i.latitude),Pt(a.latitude));return l!==0?l:ot(Pt(i.longitude),Pt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Zu(e.arrayValue,t.arrayValue);case 10:return function(i,a){var l,c,f,d;const m=i.fields||{},_=a.fields||{},b=(l=m[na])===null||l===void 0?void 0:l.arrayValue,V=(c=_[na])===null||c===void 0?void 0:c.arrayValue,O=ot(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((d=V==null?void 0:V.values)===null||d===void 0?void 0:d.length)||0);return O!==0?O:Zu(b,V)}(e.mapValue,t.mapValue);case 11:return function(i,a){if(i===Hs.mapValue&&a===Hs.mapValue)return 0;if(i===Hs.mapValue)return 1;if(a===Hs.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),f=a.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let m=0;m<c.length&&m<d.length;++m){const _=ta(c[m],d[m]);if(_!==0)return _;const b=fr(l[c[m]],f[d[m]]);if(b!==0)return b}return ot(c.length,d.length)}(e.mapValue,t.mapValue);default:throw rt(23264,{Pe:n})}}function Ju(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ot(e,t);const n=mn(e),r=mn(t),s=ot(n.seconds,r.seconds);return s!==0?s:ot(n.nanos,r.nanos)}function Zu(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=fr(n[s],r[s]);if(i)return i}return ot(n.length,r.length)}function dr(e){return ra(e)}function ra(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=mn(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return gn(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return et.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ra(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${ra(n.fields[a])}`;return s+"}"}(e.mapValue):rt(61005,{value:e})}function Zs(e){switch(_n(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ui(e);return t?16+Zs(t):16;case 5:return 2*e.stringValue.length;case 6:return gn(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Zs(i),0)}(e.arrayValue);case 10:case 11:return function(r){let s=0;return ys(r.fields,(i,a)=>{s+=i.length+Zs(a)}),s}(e.mapValue);default:throw rt(13486,{value:e})}}function sa(e){return!!e&&"integerValue"in e}function $a(e){return!!e&&"arrayValue"in e}function tc(e){return!!e&&"nullValue"in e}function ec(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Po(e){return!!e&&"mapValue"in e}function Cy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Iy])===null||n===void 0?void 0:n.stringValue)===by}function Zr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ys(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Zr(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Sy(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ay}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.value=t}static empty(){return new Re({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Po(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zr(n)}setAll(t){let n=se.emptyPath(),r={},s=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Zr(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Po(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ne(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Po(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){ys(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new Re(Zr(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t,n,r,s,i,a,l){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(t){return new Jt(t,0,nt.min(),nt.min(),nt.min(),Re.empty(),0)}static newFoundDocument(t,n,r,s){return new Jt(t,1,n,nt.min(),r,s,0)}static newNoDocument(t,n){return new Jt(t,2,n,nt.min(),nt.min(),Re.empty(),0)}static newUnknownDocument(t,n){return new Jt(t,3,n,nt.min(),nt.min(),Re.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Re.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Re.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Jt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,n){this.position=t,this.inclusive=n}}function nc(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(i.field.isKeyField()?r=et.comparator(et.fromName(a.referenceValue),n.key):r=fr(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function rc(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ne(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,n="asc"){this.field=t,this.dir=n}}function Ry(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{}class Mt extends Af{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Vy(t,n,r):n==="array-contains"?new Oy(t,r):n==="in"?new Ny(t,r):n==="not-in"?new My(t,r):n==="array-contains-any"?new ky(t,r):new Mt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new xy(t,r):new Dy(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fr(n,this.value)):n!==null&&_n(this.value)===_n(n)&&this.matchesComparison(fr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Me extends Af{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Me(t,n)}matches(t){return bf(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function bf(e){return e.op==="and"}function Cf(e){return Py(e)&&bf(e)}function Py(e){for(const t of e.filters)if(t instanceof Me)return!1;return!0}function ia(e){if(e instanceof Mt)return e.field.canonicalString()+e.op.toString()+dr(e.value);if(Cf(e))return e.filters.map(t=>ia(t)).join(",");{const t=e.filters.map(n=>ia(n)).join(",");return`${e.op}(${t})`}}function Sf(e,t){return e instanceof Mt?function(r,s){return s instanceof Mt&&r.op===s.op&&r.field.isEqual(s.field)&&Ne(r.value,s.value)}(e,t):e instanceof Me?function(r,s){return s instanceof Me&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&Sf(a,s.filters[l]),!0):!1}(e,t):void rt(19439)}function Rf(e){return e instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${dr(n.value)}`}(e):e instanceof Me?function(n){return n.op.toString()+" {"+n.getFilters().map(Rf).join(" ,")+"}"}(e):"Filter"}class Vy extends Mt{constructor(t,n,r){super(t,n,r),this.key=et.fromName(r.referenceValue)}matches(t){const n=et.comparator(t.key,this.key);return this.matchesComparison(n)}}class xy extends Mt{constructor(t,n){super(t,"in",n),this.keys=Pf("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Dy extends Mt{constructor(t,n){super(t,"not-in",n),this.keys=Pf("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Pf(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>et.fromName(r.referenceValue))}class Oy extends Mt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return $a(n)&&ds(n.arrayValue,this.value)}}class Ny extends Mt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ds(this.value.arrayValue,n)}}class My extends Mt{constructor(t,n){super(t,"not-in",n)}matches(t){if(ds(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ds(this.value.arrayValue,n)}}class ky extends Mt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!$a(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ds(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t,n=null,r=[],s=[],i=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Ie=null}}function sc(e,t=null,n=[],r=[],s=null,i=null,a=null){return new Ly(e,t,n,r,s,i,a)}function qa(e){const t=ht(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>ia(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Bi(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>dr(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>dr(r)).join(",")),t.Ie=n}return t.Ie}function Ha(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ry(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Sf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rc(e.startAt,t.startAt)&&rc(e.endAt,t.endAt)}function oa(e){return et.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Fy(e,t,n,r,s,i,a,l){return new ji(e,t,n,r,s,i,a,l)}function Vf(e){return new ji(e)}function ic(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function By(e){return e.collectionGroup!==null}function ts(e){const t=ht(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new kt(se.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new vi(i,r))}),n.has(se.keyField().canonicalString())||t.Ee.push(new vi(se.keyField(),r))}return t.Ee}function xe(e){const t=ht(e);return t.de||(t.de=Uy(t,ts(e))),t.de}function Uy(e,t){if(e.limitType==="F")return sc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new vi(s.field,i)});const n=e.endAt?new yi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new yi(e.startAt.position,e.startAt.inclusive):null;return sc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function aa(e,t,n){return new ji(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $i(e,t){return Ha(xe(e),xe(t))&&e.limitType===t.limitType}function xf(e){return`${qa(xe(e))}|lt:${e.limitType}`}function Yn(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Rf(s)).join(", ")}]`),Bi(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>dr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>dr(s)).join(",")),`Target(${r})`}(xe(e))}; limitType=${e.limitType})`}function qi(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):et.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of ts(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(a,l,c){const f=nc(a,l,c);return a.inclusive?f<=0:f<0}(r.startAt,ts(r),s)||r.endAt&&!function(a,l,c){const f=nc(a,l,c);return a.inclusive?f>=0:f>0}(r.endAt,ts(r),s))}(e,t)}function jy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Df(e){return(t,n)=>{let r=!1;for(const s of ts(e)){const i=$y(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function $y(e,t,n){const r=e.field.isKeyField()?et.comparator(t.key,n.key):function(i,a,l){const c=a.data.field(i),f=l.data.field(i);return c!==null&&f!==null?fr(c,f):rt(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return rt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){ys(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return Ey(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new Vt(et.comparator);function yn(){return qy}const Of=new Vt(et.comparator);function Hr(...e){let t=Of;for(const n of e)t=t.insert(n.key,n);return t}function Hy(e){let t=Of;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Mn(){return es()}function Nf(){return es()}function es(){return new jn(e=>e.toString(),(e,t)=>e.isEqual(t))}const zy=new kt(et.comparator);function ft(...e){let t=zy;for(const n of e)t=t.add(n);return t}const Wy=new kt(ot);function Ky(){return Wy}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ea(t)?"-0":t}}function Qy(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this._=void 0}}function Yy(e,t,n){return e instanceof la?function(s,i){const a={fields:{[Tf]:{stringValue:Ef},[If]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ja(i)&&(i=Ui(i)),i&&(a.fields[wf]=i),{mapValue:a}}(n,t):e instanceof Ei?Mf(e,t):e instanceof Ti?kf(e,t):function(s,i){const a=Jy(s,i),l=oc(a)+oc(s.Re);return sa(a)&&sa(s.Re)?Qy(l):Gy(s.serializer,l)}(e,t)}function Xy(e,t,n){return e instanceof Ei?Mf(e,t):e instanceof Ti?kf(e,t):n}function Jy(e,t){return e instanceof ua?function(r){return sa(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class la extends Hi{}class Ei extends Hi{constructor(t){super(),this.elements=t}}function Mf(e,t){const n=Lf(t);for(const r of e.elements)n.some(s=>Ne(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ti extends Hi{constructor(t){super(),this.elements=t}}function kf(e,t){let n=Lf(t);for(const r of e.elements)n=n.filter(s=>!Ne(s,r));return{arrayValue:{values:n}}}class ua extends Hi{constructor(t,n){super(),this.serializer=t,this.Re=n}}function oc(e){return Pt(e.integerValue||e.doubleValue)}function Lf(e){return $a(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Zy(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof Ei&&s instanceof Ei||r instanceof Ti&&s instanceof Ti?hr(r.elements,s.elements,Ne):r instanceof ua&&s instanceof ua?Ne(r.Re,s.Re):r instanceof la&&s instanceof la}(e.transform,t.transform)}class Fn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Fn}static exists(t){return new Fn(void 0,t)}static updateTime(t){return new Fn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ti(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class za{}function Ff(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ev(e.key,Fn.none()):new Wa(e.key,e.data,Fn.none());{const n=e.data,r=Re.empty();let s=new kt(se.comparator);for(let i of t.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new zi(e.key,r,new sn(s.toArray()),Fn.none())}}function tv(e,t,n){e instanceof Wa?function(s,i,a){const l=s.value.clone(),c=lc(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof zi?function(s,i,a){if(!ti(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=lc(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(Bf(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(e,t,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function ns(e,t,n,r){return e instanceof Wa?function(i,a,l,c){if(!ti(i.precondition,a))return l;const f=i.value.clone(),d=uc(i.fieldTransforms,c,a);return f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(e,t,n,r):e instanceof zi?function(i,a,l,c){if(!ti(i.precondition,a))return l;const f=uc(i.fieldTransforms,c,a),d=a.data;return d.setAll(Bf(i)),d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(e,t,n,r):function(i,a,l){return ti(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function ac(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&hr(r,s,(i,a)=>Zy(i,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wa extends za{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zi extends za{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Bf(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function lc(e,t,n){const r=new Map;Ct(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,l=t.data.field(i.field);r.set(i.field,Xy(a,l,n[s]))}return r}function uc(e,t,n){const r=new Map;for(const s of e){const i=s.transform,a=n.data.field(s.field);r.set(s.field,Yy(i,a,t))}return r}class ev extends za{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&tv(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ns(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ns(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Nf();return this.mutations.forEach(s=>{const i=t.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=Ff(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(nt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ft())}isEqual(t){return this.batchId===t.batchId&&hr(this.mutations,t.mutations,(n,r)=>ac(n,r))&&hr(this.baseMutations,t.baseMutations,(n,r)=>ac(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,ut;function Uf(e){if(e===void 0)return Ke("GRPC error has no .code"),j.UNKNOWN;switch(e){case xt.OK:return j.OK;case xt.CANCELLED:return j.CANCELLED;case xt.UNKNOWN:return j.UNKNOWN;case xt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case xt.INTERNAL:return j.INTERNAL;case xt.UNAVAILABLE:return j.UNAVAILABLE;case xt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case xt.NOT_FOUND:return j.NOT_FOUND;case xt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case xt.ABORTED:return j.ABORTED;case xt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case xt.DATA_LOSS:return j.DATA_LOSS;default:return rt(39323,{code:e})}}(ut=xt||(xt={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new cn([4294967295,4294967295],0);function cc(e){const t=_f().encode(e),n=new uf;return n.update(t),new Uint8Array(n.digest())}function hc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new cn([n,r],0),new cn([s,i],0)]}class Ka{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zr(`Invalid padding: ${n}`);if(r<0)throw new zr(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new zr(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new zr(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=cn.fromNumber(this.pe)}we(t,n,r){let s=t.add(n.multiply(cn.fromNumber(r)));return s.compare(iv)===1&&(s=new cn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=cc(t),[r,s]=hc(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);if(!this.be(a))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new Ka(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=cc(t),[r,s]=hc(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);this.Se(a)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class zr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,vs.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Wi(nt.min(),s,new Vt(ot),yn(),ft())}}class vs{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new vs(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t,n,r,s){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=s}}class jf{constructor(t,n){this.targetId=t,this.Ce=n}}class $f{constructor(t,n,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class fc{constructor(){this.Fe=0,this.Me=dc(),this.xe=Ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ft(),n=ft(),r=ft();return this.Me.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:rt(38017,{changeType:i})}}),new vs(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=dc()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ov{constructor(t){this.ze=t,this.je=new Map,this.He=yn(),this.Je=zs(),this.Ye=zs(),this.Ze=new Vt(ot)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:rt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(t){const n=t.targetId,r=t.Ce.count,s=this._t(n);if(s){const i=s.target;if(oa(i))if(r===0){const a=new et(i.path);this.tt(n,a,Jt.newNoDocument(a,nt.min()))}else Ct(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(t),c=l?this.lt(l,t,a):1;if(c!==0){this.st(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=gn(r).toUint8Array()}catch(c){if(c instanceof vf)return cr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Ka(a,s,i)}catch(c){return cr(c instanceof zr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(t){const n=new Map;this.je.forEach((i,a)=>{const l=this._t(a);if(l){if(i.current&&oa(l.target)){const c=new et(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,Jt.newNoDocument(c,t))}i.Le&&(n.set(a,i.qe()),i.Qe())}});let r=ft();this.Ye.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const f=this._t(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,a)=>a.setReadTime(t));const s=new Wi(t,n,this.Ze,this.He,r);return this.He=yn(),this.Je=zs(),this.Ye=zs(),this.Ze=new Vt(ot),s}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const s=this.rt(t);this.dt(t,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new fc,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new kt(ot),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new kt(ot),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||z("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new fc),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function zs(){return new Vt(et.comparator)}function dc(){return new Vt(et.comparator)}const av={asc:"ASCENDING",desc:"DESCENDING"},lv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uv={and:"AND",or:"OR"};class cv{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ca(e,t){return e.useProto3Json||Bi(t)?t:{value:t}}function hv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function or(e){return Ct(!!e,49232),nt.fromTimestamp(function(n){const r=mn(n);return new le(r.seconds,r.nanos)}(e))}function dv(e,t){return ha(e,t).canonicalString()}function ha(e,t){const n=function(s){return new Rt(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function qf(e){const t=Rt.fromString(e);return Ct(Gf(t),10190,{key:t.toString()}),t}function Vo(e,t){const n=qf(t);if(n.get(1)!==e.databaseId.projectId)throw new J(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new et(zf(n))}function Hf(e,t){return dv(e.databaseId,t)}function pv(e){const t=qf(e);return t.length===4?Rt.emptyPath():zf(t)}function pc(e){return new Rt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zf(e){return Ct(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function mv(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:rt(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(f,d){return f.useProto3Json?(Ct(d===void 0||typeof d=="string",58123),Ht.fromBase64String(d||"")):(Ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ht.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(f){const d=f.code===void 0?j.UNKNOWN:Uf(f.code);return new J(d,f.message||"")}(a);n=new $f(r,s,i,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Vo(e,r.document.name),i=or(r.document.updateTime),a=r.document.createTime?or(r.document.createTime):nt.min(),l=new Re({mapValue:{fields:r.document.fields}}),c=Jt.newFoundDocument(s,i,a,l),f=r.targetIds||[],d=r.removedTargetIds||[];n=new ei(f,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Vo(e,r.document),i=r.readTime?or(r.readTime):nt.min(),a=Jt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new ei([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Vo(e,r.document),i=r.removedTargetIds||[];n=new ei([],i,s,null)}else{if(!("filter"in t))return rt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new sv(s,i),l=r.targetId;n=new jf(l,a)}}return n}function gv(e,t){return{documents:[Hf(e,t.path)]}}function _v(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Hf(e,s);const i=function(f){if(f.length!==0)return Kf(Me.create(f,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(f){if(f.length!==0)return f.map(d=>function(_){return{field:Xn(_.field),direction:Ev(_.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=ca(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{gt:n,parent:s}}function yv(e){let t=pv(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ct(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:t=t.child(d.collectionId)}let i=[];n.where&&(i=function(m){const _=Wf(m);return _ instanceof Me&&Cf(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(_=>function(V){return new vi(Jn(V.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(_))}(n.orderBy));let l=null;n.limit&&(l=function(m){let _;return _=typeof m=="object"?m.value:m,Bi(_)?null:_}(n.limit));let c=null;n.startAt&&(c=function(m){const _=!!m.before,b=m.values||[];return new yi(b,_)}(n.startAt));let f=null;return n.endAt&&(f=function(m){const _=!m.before,b=m.values||[];return new yi(b,_)}(n.endAt)),Fy(t,s,a,i,l,"F",c,f)}function vv(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Wf(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jn(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Jn(n.unaryFilter.field);return Mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Jn(n.unaryFilter.field);return Mt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Jn(n.unaryFilter.field);return Mt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rt(61313);default:return rt(60726)}}(e):e.fieldFilter!==void 0?function(n){return Mt.create(Jn(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rt(58110);default:return rt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Me.create(n.compositeFilter.filters.map(r=>Wf(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return rt(1026)}}(n.compositeFilter.op))}(e):rt(30097,{filter:e})}function Ev(e){return av[e]}function Tv(e){return lv[e]}function wv(e){return uv[e]}function Xn(e){return{fieldPath:e.canonicalString()}}function Jn(e){return se.fromServerFormat(e.fieldPath)}function Kf(e){return e instanceof Mt?function(n){if(n.op==="=="){if(ec(n.value))return{unaryFilter:{field:Xn(n.field),op:"IS_NAN"}};if(tc(n.value))return{unaryFilter:{field:Xn(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ec(n.value))return{unaryFilter:{field:Xn(n.field),op:"IS_NOT_NAN"}};if(tc(n.value))return{unaryFilter:{field:Xn(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xn(n.field),op:Tv(n.op),value:n.value}}}(e):e instanceof Me?function(n){const r=n.getFilters().map(s=>Kf(s));return r.length===1?r[0]:{compositeFilter:{op:wv(n.op),filters:r}}}(e):rt(54877,{filter:e})}function Gf(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,n,r,s,i=nt.min(),a=nt.min(),l=Ht.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new on(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new on(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new on(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new on(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t){this.wt=t}}function Av(e){const t=yv({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?aa(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.Cn=new Cv}addToCollectionParentIndex(t,n){return this.Cn.add(n),x.resolve()}getCollectionParents(t,n){return x.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return x.resolve()}deleteFieldIndex(t,n){return x.resolve()}deleteAllFieldIndexes(t){return x.resolve()}createTargetIndexes(t,n){return x.resolve()}getDocumentsMatchingTarget(t,n){return x.resolve(null)}getIndexType(t,n){return x.resolve(0)}getFieldIndexes(t,n){return x.resolve([])}getNextCollectionGroupToUpdate(t){return x.resolve(null)}getMinOffset(t,n){return x.resolve(pn.min())}getMinOffsetFromCollectionGroup(t,n){return x.resolve(pn.min())}updateCollectionGroup(t,n,r){return x.resolve()}updateIndexEntries(t,n){return x.resolve()}}class Cv{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new kt(Rt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new kt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qf=41943040;class ae{static withCacheSize(t){return new ae(t,ae.DEFAULT_COLLECTION_PERCENTILE,ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ae.DEFAULT_COLLECTION_PERCENTILE=10,ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ae.DEFAULT=new ae(Qf,ae.DEFAULT_COLLECTION_PERCENTILE,ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ae.DISABLED=new ae(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new pr(0)}static lr(){return new pr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="LruGarbageCollector",Sv=1048576;function _c([e,t],[n,r]){const s=ot(e,n);return s===0?ot(t,r):s}class Rv{constructor(t){this.Er=t,this.buffer=new kt(_c),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_c(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Pv{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){z(gc,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vr(n)?z(gc,"Ignoring IndexedDB error during garbage collection: ",n):await Li(n)}await this.mr(3e5)})}}class Vv{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return x.resolve(Fi.le);const r=new Rv(n);return this.gr.forEachTarget(t,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(t,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.gr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(mc)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mc):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let r,s,i,a,l,c,f;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,a=Date.now(),this.nthSequenceNumber(t,s))).next(m=>(r=m,l=Date.now(),this.removeTargets(t,r,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(t,r))).next(m=>(f=Date.now(),Qn()<=ct.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function xv(e,t){return new Vv(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.changes=new jn(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Jt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&ns(r.mutation,s,sn.empty(),le.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ft()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ft()){const s=Mn();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let a=Hr();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=Mn();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ft()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,r,s){let i=yn();const a=es(),l=function(){return es()}();return n.forEach((c,f)=>{const d=r.get(f.key);s.has(f.key)&&(d===void 0||d.mutation instanceof zi)?i=i.insert(f.key,f):d!==void 0?(a.set(f.key,d.mutation.getFieldMask()),ns(d.mutation,f,d.mutation.getFieldMask(),le.now())):a.set(f.key,sn.empty())}),this.recalculateAndSaveOverlays(t,i).next(c=>(c.forEach((f,d)=>a.set(f,d)),n.forEach((f,d)=>{var m;return l.set(f,new Ov(d,(m=a.get(f))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(t,n){const r=es();let s=new Vt((a,l)=>a-l),i=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let d=r.get(c)||sn.empty();d=l.applyToLocalView(f,d),r.set(c,d);const m=(s.get(l.batchId)||ft()).add(c);s=s.insert(l.batchId,m)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,d=c.value,m=Nf();d.forEach(_=>{if(!i.has(_)){const b=Ff(n.get(_),r.get(_));b!==null&&m.set(_,b),i=i.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(t,f,m))}return x.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(a){return et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):By(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):x.resolve(Mn());let l=cs,c=i;return a.next(f=>x.forEach(f,(d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(d)?x.resolve():this.remoteDocumentCache.getEntry(t,d).next(_=>{c=c.insert(d,_)}))).next(()=>this.populateOverlays(t,f,i)).next(()=>this.computeViews(t,c,f,ft())).next(d=>({batchId:l,changes:Hy(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new et(n)).next(r=>{let s=Hr();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let a=Hr();return this.indexManager.getCollectionParents(t,i).next(l=>x.forEach(l,c=>{const f=function(m,_){return new ji(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,f,r,s).next(d=>{d.forEach((m,_)=>{a=a.insert(m,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(a=>{i.forEach((c,f)=>{const d=f.getKey();a.get(d)===null&&(a=a.insert(d,Jt.newInvalidDocument(d)))});let l=Hr();return a.forEach((c,f)=>{const d=i.get(c);d!==void 0&&ns(d.mutation,f,sn.empty(),le.now()),qi(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return x.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:or(s.createTime)}}(n)),x.resolve()}getNamedQuery(t,n){return x.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(s){return{name:s.name,query:Av(s.bundledQuery),readTime:or(s.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.overlays=new Vt(et.comparator),this.Qr=new Map}getOverlay(t,n){return x.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Mn();return x.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.St(t,n,i)}),x.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),x.resolve()}getOverlaysForCollection(t,n,r){const s=Mn(),i=n.length+1,a=new et(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return x.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Vt((f,d)=>f-d);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=i.get(f.largestBatchId);d===null&&(d=Mn(),i=i.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=Mn(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,d)=>l.set(f,d)),!(l.size()>=s)););return x.resolve(l)}St(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new rv(n,r));let i=this.Qr.get(n);i===void 0&&(i=ft(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(t){return x.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,x.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.$r=new kt(Lt.Ur),this.Kr=new kt(Lt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const r=new Lt(t,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.zr(new Lt(t,n))}jr(t,n){t.forEach(r=>this.removeReference(r,n))}Hr(t){const n=new et(new Rt([])),r=new Lt(n,t),s=new Lt(n,t+1),i=[];return this.Kr.forEachInRange([r,s],a=>{this.zr(a),i.push(a.key)}),i}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new et(new Rt([])),r=new Lt(n,t),s=new Lt(n,t+1);let i=ft();return this.Kr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(t){const n=new Lt(t,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Lt{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return et.comparator(t.key,n.key)||ot(t.Zr,n.Zr)}static Wr(t,n){return ot(t.Zr,n.Zr)||et.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new kt(Lt.Ur)}checkEmpty(t){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new nv(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new Lt(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return x.resolve(a)}lookupMutationBatch(t,n){return x.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return x.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?_y:this.nr-1)}getAllMutationBatches(t){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Lt(n,0),s=new Lt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],a=>{const l=this.ei(a.Zr);i.push(l)}),x.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new kt(ot);return n.forEach(s=>{const i=new Lt(s,0),a=new Lt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,a],l=>{r=r.add(l.Zr)})}),x.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;et.isDocumentKey(i)||(i=i.child(""));const a=new Lt(new et(i),0);let l=new kt(ot);return this.Xr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(l=l.add(c.Zr)),!0)},a),x.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Ct(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return x.forEach(n.mutations,s=>{const i=new Lt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,n){const r=new Lt(n,0),s=this.Xr.firstAfterOrEqual(r);return x.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,x.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t){this.ii=t,this.docs=function(){return new Vt(et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(t,n){let r=yn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Jt.newInvalidDocument(s))}),x.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=yn();const a=n.path,l=new et(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||dy(fy(d),r)<=0||(s.has(d.key)||qi(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return x.resolve(i)}getAllFromCollectionGroup(t,n,r,s){rt(9500)}si(t,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Uv(this)}getSize(t){return x.resolve(this.size)}}class Uv extends Dv{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(t,s)):this.Br.removeEntry(r)}),x.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(t){this.persistence=t,this.oi=new jn(n=>qa(n),Ha),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this._i=0,this.ai=new Ga,this.targetCount=0,this.ui=pr.cr()}forEachTarget(t,n){return this.oi.forEach((r,s)=>n(s)),x.resolve()}getLastRemoteSnapshotVersion(t){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return x.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),x.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new pr(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,x.resolve()}updateTargetData(t,n){return this.Tr(n),x.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)}),x.waitFor(i).next(()=>s)}getTargetCount(t){return x.resolve(this.targetCount)}getTargetData(t,n){const r=this.oi.get(n)||null;return x.resolve(r)}addMatchingKeys(t,n,r){return this.ai.Gr(n,r),x.resolve()}removeMatchingKeys(t,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(t,a))}),x.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),x.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ai.Yr(n);return x.resolve(r)}containsKey(t,n){return x.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,n){this.ci={},this.overlays={},this.li=new Fi(0),this.hi=!1,this.hi=!0,this.Pi=new Lv,this.referenceDelegate=t(this),this.Ti=new jv(this),this.indexManager=new bv,this.remoteDocumentCache=function(s){return new Bv(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Iv(n),this.Ei=new Mv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new kv,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ci[t.toKey()];return r||(r=new Fv(n,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,r){z("MemoryPersistence","Starting transaction:",t);const s=new $v(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(t,n){return x.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,n)))}}class $v extends my{constructor(t){super(),this.currentSequenceNumber=t}}class Qa{constructor(t){this.persistence=t,this.Vi=new Ga,this.mi=null}static fi(t){return new Qa(t)}get gi(){if(this.mi)return this.mi;throw rt(60996)}addReference(t,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),x.resolve()}removeReference(t,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),x.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.gi,r=>{const s=et.fromPath(r);return this.pi(t,s).next(i=>{i||n.removeEntry(s,nt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return x.or([()=>x.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class wi{constructor(t,n){this.persistence=t,this.yi=new jn(r=>yy(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=xv(this,n)}static fi(t,n){return new wi(t,n)}di(){}Ai(t){return x.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(s=>r+s))}br(t){let n=0;return this.yr(t,r=>{n++}).next(()=>n)}yr(t,n){return x.forEach(this.yi,(r,s)=>this.Dr(t,r,s).next(i=>i?x.resolve():n(s)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(t,a=>this.Dr(t,a,n).next(l=>{l||(r++,i.removeEntry(a,nt.min()))})).next(()=>i.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),x.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),x.resolve()}removeReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),x.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),x.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Zs(t.data.value)),n}Dr(t,n,r){return x.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.yi.get(n);return x.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.ds=r,this.As=s}static Rs(t,n){let r=ft(),s=ft();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ya(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Ng()?8:gy(Dg())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.ws(t,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.bs(t,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new qv;return this.Ss(t,n,a).next(l=>{if(i.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>i.result)}Ds(t,n,r,s){return r.documentReadCount<this.gs?(Qn()<=ct.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Yn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),x.resolve()):(Qn()<=ct.DEBUG&&z("QueryEngine","Query:",Yn(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Qn()<=ct.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Yn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xe(n))):x.resolve())}ws(t,n){if(ic(n))return x.resolve(null);let r=xe(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=aa(n,null,"F"),r=xe(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const a=ft(...i);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,r).next(c=>{const f=this.vs(n,l);return this.Cs(n,f,a,c.readTime)?this.ws(t,aa(n,null,"F")):this.Fs(t,f,n,c)}))})))}bs(t,n,r,s){return ic(n)||s.isEqual(nt.min())?x.resolve(null):this.ys.getDocuments(t,r).next(i=>{const a=this.vs(n,i);return this.Cs(n,a,r,s)?x.resolve(null):(Qn()<=ct.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Yn(n)),this.Fs(t,a,n,hy(s,cs)).next(l=>l))})}vs(t,n){let r=new kt(Df(t));return n.forEach((s,i)=>{qi(t,i)&&(r=r.add(i))}),r}Cs(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(t,n,r){return Qn()<=ct.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Yn(n)),this.ys.getDocumentsMatchingQuery(t,n,pn.min(),r)}Fs(t,n,r,s){return this.ys.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="LocalStore",zv=3e8;class Wv{constructor(t,n,r,s){this.persistence=t,this.Ms=n,this.serializer=s,this.xs=new Vt(ot),this.Os=new jn(i=>qa(i),Ha),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Nv(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function Kv(e,t,n,r){return new Wv(e,t,n,r)}async function Xf(e,t){const n=ht(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=ft();for(const f of s){a.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of i){l.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(f=>({ks:f,removedBatchIds:a,addedBatchIds:l}))})})}function Jf(e){const t=ht(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function Gv(e,t){const n=ht(e),r=t.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];t.targetChanges.forEach((d,m)=>{const _=s.get(m);if(!_)return;l.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,m).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,m)));let b=_.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(m)!==null?b=b.withResumeToken(Ht.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):d.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(d.resumeToken,r)),s=s.insert(m,b),function(O,F,Y){return O.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=zv?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(_,b,d)&&l.push(n.Ti.updateTargetData(i,b))});let c=yn(),f=ft();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(Qv(i,a,t.documentUpdates).next(d=>{c=d.qs,f=d.Qs})),!r.isEqual(nt.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(m=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return x.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,f)).next(()=>c)}).then(i=>(n.xs=s,i))}function Qv(e,t,n){let r=ft(),s=ft();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let a=yn();return n.forEach((l,c)=>{const f=i.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(nt.min())?(t.removeEntry(l,c.readTime),a=a.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(c),a=a.insert(l,c)):z(Xa,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{qs:a,Qs:s}})}function Yv(e,t){const n=ht(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,t).next(i=>i?(s=i,x.resolve(s)):n.Ti.allocateTargetId(r).next(a=>(s=new on(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(t,r.targetId)),r})}async function fa(e,t,n){const r=ht(e),s=r.xs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!vr(a))throw a;z(Xa,`Failed to update sequence numbers for target ${t}: ${a}`)}r.xs=r.xs.remove(t),r.Os.delete(s.target)}function yc(e,t,n){const r=ht(e);let s=nt.min(),i=ft();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,f,d){const m=ht(c),_=m.Os.get(d);return _!==void 0?x.resolve(m.xs.get(_)):m.Ti.getTargetData(f,d)}(r,a,xe(t)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,t,n?s:nt.min(),n?i:ft())).next(l=>(Xv(r,jy(t),l),{documents:l,$s:i})))}function Xv(e,t,n){let r=e.Ns.get(t)||nt.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.Ns.set(t,r)}class vc{constructor(){this.activeTargetIds=Ky()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Jv{constructor(){this.xo=new vc,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,r){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new vc,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec="ConnectivityMonitor";class Tc{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){z(Ec,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){z(Ec,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ws=null;function da(){return Ws===null?Ws=function(){return 268435456+Math.round(2147483648*Math.random())}():Ws++,"0x"+Ws.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="RestConnection",tE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eE{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===_i?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(t,n,r,s,i){const a=da(),l=this.jo(t,n.toUriEncodedString());z(xo,`Sending RPC '${t}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:f}=new URL(l),d=Fa(f);return this.Jo(t,l,c,r,d).then(m=>(z(xo,`Received RPC '${t}' ${a}: `,m),m),m=>{throw cr(xo,`RPC '${t}' ${a} failed with error: `,m,"url: ",l,"request:",r),m})}Yo(t,n,r,s,i,a){return this.zo(t,n,r,s,i)}Ho(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yr}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>t[i]=s),r&&r.headers.forEach((s,i)=>t[i]=s)}jo(t,n){const r=tE[t];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class rE extends eE{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,s,i){const a=da();return new Promise((l,c)=>{const f=new cf;f.setWithCredentials(!0),f.listenOnce(hf.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Js.NO_ERROR:const m=f.getResponseJson();z(Qt,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(m)),l(m);break;case Js.TIMEOUT:z(Qt,`RPC '${t}' ${a} timed out`),c(new J(j.DEADLINE_EXCEEDED,"Request time out"));break;case Js.HTTP_ERROR:const _=f.getStatus();if(z(Qt,`RPC '${t}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const V=b==null?void 0:b.error;if(V&&V.status&&V.message){const O=function(Y){const K=Y.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(K)>=0?K:j.UNKNOWN}(V.status);c(new J(O,V.message))}else c(new J(j.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new J(j.UNAVAILABLE,"Connection failed."));break;default:rt(9055,{h_:t,streamId:a,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{z(Qt,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(s);z(Qt,`RPC '${t}' ${a} sending request:`,s),f.send(n,"POST",d,r,15)})}I_(t,n,r){const s=da(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=pf(),l=df(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");z(Qt,`Creating RPC '${t}' stream ${s}: ${d}`,c);const m=a.createWebChannel(d,c);this.E_(m);let _=!1,b=!1;const V=new nE({Zo:F=>{b?z(Qt,`Not sending because RPC '${t}' stream ${s} is closed:`,F):(_||(z(Qt,`Opening RPC '${t}' stream ${s} transport.`),m.open(),_=!0),z(Qt,`RPC '${t}' stream ${s} sending:`,F),m.send(F))},Xo:()=>m.close()}),O=(F,Y,K)=>{F.listen(Y,W=>{try{K(W)}catch(H){setTimeout(()=>{throw H},0)}})};return O(m,qr.EventType.OPEN,()=>{b||(z(Qt,`RPC '${t}' stream ${s} transport opened.`),V.__())}),O(m,qr.EventType.CLOSE,()=>{b||(b=!0,z(Qt,`RPC '${t}' stream ${s} transport closed`),V.u_(),this.d_(m))}),O(m,qr.EventType.ERROR,F=>{b||(b=!0,cr(Qt,`RPC '${t}' stream ${s} transport errored. Name:`,F.name,"Message:",F.message),V.u_(new J(j.UNAVAILABLE,"The operation could not be completed")))}),O(m,qr.EventType.MESSAGE,F=>{var Y;if(!b){const K=F.data[0];Ct(!!K,16349);const W=K,H=(W==null?void 0:W.error)||((Y=W[0])===null||Y===void 0?void 0:Y.error);if(H){z(Qt,`RPC '${t}' stream ${s} received error:`,H);const dt=H.status;let gt=function(E){const w=xt[E];if(w!==void 0)return Uf(w)}(dt),I=H.message;gt===void 0&&(gt=j.INTERNAL,I="Unknown error status: "+dt+" with message "+H.message),b=!0,V.u_(new J(gt,I)),m.close()}else z(Qt,`RPC '${t}' stream ${s} received:`,K),V.c_(K)}}),O(l,ff.STAT_EVENT,F=>{F.stat===Zo.PROXY?z(Qt,`RPC '${t}' stream ${s} detected buffering proxy`):F.stat===Zo.NOPROXY&&z(Qt,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{V.a_()},0),V}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Do(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(e){return new cv(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t,n,r=1e3,s=1.5,i=6e4){this.xi=t,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="PersistentStream";class sE{constructor(t,n,r,s,i,a,l,c){this.xi=t,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new td(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Ke(n.toString()),Ke("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{t(()=>{const s=new J(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(t,n){const r=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return z(wc,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(z(wc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iE extends sE{constructor(t,n,r,s,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=mv(this.serializer,t),r=function(i){if(!("targetChange"in i))return nt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?nt.min():a.readTime?or(a.readTime):nt.min()}(t);return this.listener.Y_(n,r)}Z_(t){const n={};n.database=pc(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=oa(c)?{documents:gv(i,c)}:{query:_v(i,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=fv(i,a.resumeToken);const f=ca(i,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(nt.min())>0){l.readTime=hv(i,a.snapshotVersion.toTimestamp());const f=ca(i,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,t);const r=vv(this.serializer,t);r&&(n.labels=r),this.Q_(n)}X_(t){const n={};n.database=pc(this.serializer),n.removeTarget=t,this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{}class aE extends oE{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new J(j.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.zo(t,ha(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(j.UNKNOWN,i.toString())})}Yo(t,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,ha(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new J(j.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class lE{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ke(n),this.ua=!1):z("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="RemoteStore";class uE{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(a=>{r.enqueueAndForget(async()=>{Ts(this)&&(z(mr,"Restarting streams for network reachability change."),await async function(c){const f=ht(c);f.da.add(4),await Es(f),f.Va.set("Unknown"),f.da.delete(4),await Ki(f)}(this))})}),this.Va=new lE(r,s)}}async function Ki(e){if(Ts(e))for(const t of e.Aa)await t(!0)}async function Es(e){for(const t of e.Aa)await t(!1)}function ed(e,t){const n=ht(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),el(n)?tl(n):Er(n).N_()&&Za(n,t))}function Ja(e,t){const n=ht(e),r=Er(n);n.Ea.delete(t),r.N_()&&nd(n,t),n.Ea.size===0&&(r.N_()?r.k_():Ts(n)&&n.Va.set("Unknown"))}function Za(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Er(e).Z_(t)}function nd(e,t){e.ma.Ke(t),Er(e).X_(t)}function tl(e){e.ma=new ov({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Er(e).start(),e.Va.ca()}function el(e){return Ts(e)&&!Er(e).O_()&&e.Ea.size>0}function Ts(e){return ht(e).da.size===0}function rd(e){e.ma=void 0}async function cE(e){e.Va.set("Online")}async function hE(e){e.Ea.forEach((t,n)=>{Za(e,t)})}async function fE(e,t){rd(e),el(e)?(e.Va.Pa(t),tl(e)):e.Va.set("Unknown")}async function dE(e,t,n){if(e.Va.set("Online"),t instanceof $f&&t.state===2&&t.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(e,t)}catch(r){z(mr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ic(e,r)}else if(t instanceof ei?e.ma.Xe(t):t instanceof jf?e.ma.ot(t):e.ma.nt(t),!n.isEqual(nt.min()))try{const r=await Jf(e.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.ma.It(a);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ea.get(f);d&&i.Ea.set(f,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,f)=>{const d=i.Ea.get(c);if(!d)return;i.Ea.set(c,d.withResumeToken(Ht.EMPTY_BYTE_STRING,d.snapshotVersion)),nd(i,c);const m=new on(d.target,c,f,d.sequenceNumber);Za(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(r){z(mr,"Failed to raise snapshot:",r),await Ic(e,r)}}async function Ic(e,t,n){if(!vr(t))throw t;e.da.add(1),await Es(e),e.Va.set("Offline"),n||(n=()=>Jf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{z(mr,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Ki(e)})}async function Ac(e,t){const n=ht(e);n.asyncQueue.verifyOperationInProgress(),z(mr,"RemoteStore received new credentials");const r=Ts(n);n.da.add(3),await Es(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Ki(n)}async function pE(e,t){const n=ht(e);t?(n.da.delete(2),await Ki(n)):t||(n.da.add(2),await Es(n),n.Va.set("Unknown"))}function Er(e){return e.fa||(e.fa=function(n,r,s){const i=ht(n);return i.oa(),new iE(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{e_:cE.bind(null,e),n_:hE.bind(null,e),i_:fE.bind(null,e),Y_:dE.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),el(e)?tl(e):e.Va.set("Unknown")):(await e.fa.stop(),rd(e))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const a=Date.now()+r,l=new nl(t,n,a,s,i);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(j.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sd(e,t){if(Ke("AsyncQueue",`${t}: ${e}`),vr(e))return new J(j.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{static emptySet(t){return new ar(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||et.comparator(n.key,r.key):(n,r)=>et.comparator(n.key,r.key),this.keyedMap=Hr(),this.sortedSet=new Vt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ar)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ar;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.pa=new Vt(et.comparator)}track(t){const n=t.doc.key,r=this.pa.get(n);r?t.type!==0&&r.type===3?this.pa=this.pa.insert(n,t):t.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.pa=this.pa.remove(n):t.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):rt(63341,{Vt:t,ya:r}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,r)=>{t.push(r)}),t}}class gr{constructor(t,n,r,s,i,a,l,c,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(t,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new gr(t,n,ar.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$i(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class gE{constructor(){this.queries=Cc(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ht(n),i=s.queries;s.queries=Cc(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new J(j.ABORTED,"Firestore shutting down"))}}function Cc(){return new jn(e=>xf(e),$i)}async function _E(e,t){const n=ht(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.Da()&&t.va()&&(r=2):(i=new mE,r=t.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=sd(a,`Initialization of query '${Yn(t.query)}' failed`);return void t.onError(l)}n.queries.set(s,i),i.Sa.push(t),t.Fa(n.onlineState),i.ba&&t.Ma(i.ba)&&rl(n)}async function yE(e,t){const n=ht(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(t);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=t.va()?0:1:!i.Da()&&t.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vE(e,t){const n=ht(e);let r=!1;for(const s of t){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Ma(s)&&(r=!0);a.ba=s}}r&&rl(n)}function EE(e,t,n){const r=ht(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function rl(e){e.Ca.forEach(t=>{t.next()})}var pa,Sc;(Sc=pa||(pa={})).xa="default",Sc.Cache="cache";class TE{constructor(t,n,r){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new gr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=gr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==pa.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t){this.key=t}}class od{constructor(t){this.key=t}}class wE{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ft(),this.mutatedKeys=ft(),this.Za=Df(t),this.Xa=new ar(this.Za)}get eu(){return this.Ha}tu(t,n){const r=n?n.nu:new bc,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((d,m)=>{const _=s.get(d),b=qi(this.query,m)?m:null,V=!!_&&this.mutatedKeys.has(_.key),O=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let F=!1;_&&b?_.data.isEqual(b.data)?V!==O&&(r.track({type:3,doc:b}),F=!0):this.ru(_,b)||(r.track({type:2,doc:b}),F=!0,(c&&this.Za(b,c)>0||f&&this.Za(b,f)<0)&&(l=!0)):!_&&b?(r.track({type:0,doc:b}),F=!0):_&&!b&&(r.track({type:1,doc:_}),F=!0,(c||f)&&(l=!0)),F&&(b?(a=a.add(b),i=O?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Xa:a,nu:r,Cs:l,mutatedKeys:i}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,m)=>function(b,V){const O=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt(20277,{Vt:F})}};return O(b)-O(V)}(d.type,m.type)||this.Za(d.doc,m.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,f=c!==this.Ja;return this.Ja=c,a.length!==0||f?{snapshot:new gr(this.query,t.Xa,i,a,t.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new bc,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ft(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return t.forEach(r=>{this.Ya.has(r)||n.push(new od(r))}),this.Ya.forEach(r=>{t.has(r)||n.push(new id(r))}),n}au(t){this.Ha=t.$s,this.Ya=ft();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return gr.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const sl="SyncEngine";class IE{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class AE{constructor(t){this.key=t,this.cu=!1}}class bE{constructor(t,n,r,s,i,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new jn(l=>xf(l),$i),this.Pu=new Map,this.Tu=new Set,this.Iu=new Vt(et.comparator),this.Eu=new Map,this.du=new Ga,this.Au={},this.Ru=new Map,this.Vu=pr.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function CE(e,t,n=!0){const r=hd(e);let s;const i=r.hu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await ad(r,t,n,!0),s}async function SE(e,t){const n=hd(e);await ad(n,t,!0,!1)}async function ad(e,t,n,r){const s=await Yv(e.localStore,xe(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await RE(e,t,i,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&ed(e.remoteStore,s),l}async function RE(e,t,n,r,s){e.fu=(m,_,b)=>async function(O,F,Y,K){let W=F.view.tu(Y);W.Cs&&(W=await yc(O.localStore,F.query,!1).then(({documents:I})=>F.view.tu(I,W)));const H=K&&K.targetChanges.get(F.targetId),dt=K&&K.targetMismatches.get(F.targetId)!=null,gt=F.view.applyChanges(W,O.isPrimaryClient,H,dt);return Pc(O,F.targetId,gt.ou),gt.snapshot}(e,m,_,b);const i=await yc(e.localStore,t,!0),a=new wE(t,i.$s),l=a.tu(i.documents),c=vs.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),f=a.applyChanges(l,e.isPrimaryClient,c);Pc(e,n,f.ou);const d=new IE(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),f.snapshot}async function PE(e,t,n){const r=ht(e),s=r.hu.get(t),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(a=>!$i(a,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await fa(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ja(r.remoteStore,s.targetId),ma(r,s.targetId)}).catch(Li)):(ma(r,s.targetId),await fa(r.localStore,s.targetId,!0))}async function VE(e,t){const n=ht(e),r=n.hu.get(t),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ja(n.remoteStore,r.targetId))}async function ld(e,t){const n=ht(e);try{const r=await Gv(n.localStore,t);t.targetChanges.forEach((s,i)=>{const a=n.Eu.get(i);a&&(Ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?Ct(a.cu,14607):s.removedDocuments.size>0&&(Ct(a.cu,42227),a.cu=!1))}),await cd(n,r,t)}catch(r){await Li(r)}}function Rc(e,t,n){const r=ht(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,a)=>{const l=a.view.Fa(t);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=ht(a);c.onlineState=l;let f=!1;c.queries.forEach((d,m)=>{for(const _ of m.Sa)_.Fa(l)&&(f=!0)}),f&&rl(c)}(r.eventManager,t),s.length&&r.lu.Y_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xE(e,t,n){const r=ht(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Eu.get(t),i=s&&s.key;if(i){let a=new Vt(et.comparator);a=a.insert(i,Jt.newNoDocument(i,nt.min()));const l=ft().add(i),c=new Wi(nt.min(),new Map,new Vt(ot),a,l);await ld(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(t),il(r)}else await fa(r.localStore,t,!1).then(()=>ma(r,t,n)).catch(Li)}function ma(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(r=>{e.du.containsKey(r)||ud(e,r)})}function ud(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(Ja(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),il(e))}function Pc(e,t,n){for(const r of n)r instanceof id?(e.du.addReference(r.key,t),DE(e,r)):r instanceof od?(z(sl,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||ud(e,r.key)):rt(19791,{pu:r})}function DE(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(z(sl,"New document in limbo: "+n),e.Tu.add(r),il(e))}function il(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new et(Rt.fromString(t)),r=e.Vu.next();e.Eu.set(r,new AE(n)),e.Iu=e.Iu.insert(n,r),ed(e.remoteStore,new on(xe(Vf(n.path)),r,"TargetPurposeLimboResolution",Fi.le))}}async function cd(e,t,n){const r=ht(e),s=[],i=[],a=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{a.push(r.fu(c,t,n).then(f=>{var d;if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){s.push(f);const m=Ya.Rs(c.targetId,f);i.push(m)}}))}),await Promise.all(a),r.lu.Y_(s),await async function(c,f){const d=ht(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>x.forEach(f,_=>x.forEach(_.ds,b=>d.persistence.referenceDelegate.addReference(m,_.targetId,b)).next(()=>x.forEach(_.As,b=>d.persistence.referenceDelegate.removeReference(m,_.targetId,b)))))}catch(m){if(!vr(m))throw m;z(Xa,"Failed to update sequence numbers: "+m)}for(const m of f){const _=m.targetId;if(!m.fromCache){const b=d.xs.get(_),V=b.snapshotVersion,O=b.withLastLimboFreeSnapshotVersion(V);d.xs=d.xs.insert(_,O)}}}(r.localStore,i))}async function OE(e,t){const n=ht(e);if(!n.currentUser.isEqual(t)){z(sl,"User change. New user:",t.toKey());const r=await Xf(n.localStore,t);n.currentUser=t,function(i,a){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new J(j.CANCELLED,a))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await cd(n,r.ks)}}function NE(e,t){const n=ht(e),r=n.Eu.get(t);if(r&&r.cu)return ft().add(r.key);{let s=ft();const i=n.Pu.get(t);if(!i)return s;for(const a of i){const l=n.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function hd(e){const t=ht(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ld.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xE.bind(null,t),t.lu.Y_=vE.bind(null,t.eventManager),t.lu.gu=EE.bind(null,t.eventManager),t}class Ii{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return Kv(this.persistence,new Hv,t.initialUser,this.serializer)}Su(t){return new Yf(Qa.fi,this.serializer)}bu(t){return new Jv}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ii.provider={build:()=>new Ii};class ME extends Ii{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Ct(this.persistence.referenceDelegate instanceof wi,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Pv(r,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?ae.withCacheSize(this.cacheSizeBytes):ae.DEFAULT;return new Yf(r=>wi.fi(r,n),this.serializer)}}class ga{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rc(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OE.bind(null,this.syncEngine),await pE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new gE}()}createDatastore(t){const n=Zf(t.databaseInfo.databaseId),r=function(i){return new rE(i)}(t.databaseInfo);return function(i,a,l,c){return new aE(i,a,l,c)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,a,l){return new uE(r,s,i,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>Rc(this.syncEngine,n,0),function(){return Tc.C()?new Tc:new Zv}())}createSyncEngine(t,n){return function(s,i,a,l,c,f,d){const m=new bE(s,i,a,l,c,f);return d&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const i=ht(s);z(mr,"RemoteStore shutting down."),i.da.add(5),await Es(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ga.provider={build:()=>new ga};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ke("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="FirestoreClient";class LE{constructor(t,n,r,s,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Yt.UNAUTHENTICATED,this.clientId=ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{z(vn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(z(vn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=sd(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Oo(e,t){e.asyncQueue.verifyOperationInProgress(),z(vn,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Xf(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Vc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await FE(e);z(vn,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Ac(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>Ac(t.remoteStore,s)),e._onlineComponents=t}async function FE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){z(vn,"Using user provided OfflineComponentProvider");try{await Oo(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===j.FAILED_PRECONDITION||s.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;cr("Error using user provided cache. Falling back to memory cache: "+n),await Oo(e,new Ii)}}else z(vn,"Using default OfflineComponentProvider"),await Oo(e,new ME(void 0));return e._offlineComponents}async function BE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(z(vn,"Using user provided OnlineComponentProvider"),await Vc(e,e._uninitializedComponentsProvider._online)):(z(vn,"Using default OnlineComponentProvider"),await Vc(e,new ga))),e._onlineComponents}async function UE(e){const t=await BE(e),n=t.eventManager;return n.onListen=CE.bind(null,t.syncEngine),n.onUnlisten=PE.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=SE.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=VE.bind(null,t.syncEngine),n}function jE(e,t,n={}){const r=new Ln;return e.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,f){const d=new kE({next:_=>{d.xu(),a.enqueueAndForget(()=>yE(i,m)),_.fromCache&&c.source==="server"?f.reject(new J(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),m=new TE(l,d,{includeMetadataChanges:!0,Qa:!0});return _E(i,m)}(await UE(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(e,t,n){if(!n)throw new J(j.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function qE(e,t,n,r){if(t===!0&&r===!0)throw new J(j.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Dc(e){if(et.isDocumentKey(e))throw new J(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function HE(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":rt(12329,{type:typeof e})}function _a(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=HE(e);throw new J(j.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="firestore.googleapis.com",Oc=!0;class Nc{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new J(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dd,this.ssl=Oc}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Oc;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Qf;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Sv)throw new J(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fd((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ol{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nc({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new J(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nc(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ey;switch(r.type){case"firstParty":return new iy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xc.get(n);r&&(z("ComponentProvider","Removing Datastore"),xc.delete(n),r.terminate())}(this),Promise.resolve()}}function zE(e,t,n,r={}){var s;e=_a(e,ol);const i=Fa(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c=`${t}:${n}`;i&&(Sg(`https://${c}`),xg("Firestore",!0)),a.host!==dd&&a.host!==c&&cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:c,ssl:i,emulatorOptions:r});if(!pi(f,l)&&(e._setSettings(f),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=Yt.MOCK_USER;else{d=Rg(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new J(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Yt(_)}e._authCredentials=new ny(new gf(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Gi(this.firestore,t,this._query)}}class Tr{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Tr(this.firestore,t,this._key)}}class lr extends Gi{constructor(t,n,r){super(t,n,Vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Tr(this.firestore,null,new et(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function No(e,t,...n){if(e=Ug(e),$E("collection","path",t),e instanceof ol){const r=Rt.fromString(t,...n);return Dc(r),new lr(e,null,r)}{if(!(e instanceof Tr||e instanceof lr))throw new J(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Rt.fromString(t,...n));return Dc(r),new lr(e.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc="AsyncQueue";class kc{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new td(this,"async_queue_retry"),this.rc=()=>{const r=Do();r&&z(Mc,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=t;const n=Do();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Do();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ln;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!vr(t))throw t;z(Mc,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(r=>{throw this.Xu=r,this.ec=!1,Ke("INTERNAL UNHANDLED ERROR: ",Lc(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(t,n,r){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const s=nl.createAndSchedule(this,t,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&rt(47125,{cc:Lc(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function Lc(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class pd extends ol{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=new kc,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kc(t),this._firestoreClient=void 0,await t}}}function WE(e,t){const n=typeof e=="object"?e:$_(),r=typeof e=="string"?e:_i,s=L_(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=bg("firestore");i&&zE(s,...i)}return s}function KE(e){if(e._terminated)throw new J(j.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||GE(e),e._firestoreClient}function GE(e){var t,n,r;const s=e._freezeSettings(),i=function(l,c,f,d){return new wy(l,c,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,fd(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new LE(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ai(Ht.fromBase64String(t))}catch(n){throw new J(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ai(Ht.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new J(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new J(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ot(this._lat,t._lat)||ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,t._values)}}const XE=new RegExp("[~\\*/\\[\\]]");function JE(e,t,n){if(t.search(XE)>=0)throw Fc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new md(...t.split("."))._internalPath}catch{throw Fc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Fc(e,t,n,r,s){let i=`Function ${t}() called with invalid data`;i+=". ";let a="";return new J(j.INVALID_ARGUMENT,i+e+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(_d("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZE extends gd{data(){return super.data()}}function _d(e,t){return typeof t=="string"?JE(e,t):t instanceof md?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new J(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eT{convertValue(t,n="none"){switch(_n(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(gn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw rt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ys(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(t){var n,r,s;const i=(s=(r=(n=t.fields)===null||n===void 0?void 0:n[na].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>Pt(a.doubleValue));return new YE(i)}convertGeoPoint(t){return new QE(Pt(t.latitude),Pt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Ui(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hs(t));default:return null}}convertTimestamp(t){const n=mn(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Rt.fromString(t);Ct(Gf(r),9688,{name:t});const s=new fs(r.get(1),r.get(3)),i=new et(r.popFirst(5));return s.isEqual(n)||Ke(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nT extends gd{constructor(t,n,r,s,i,a){super(t,n,r,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ni(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(_d("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ni extends nT{data(t={}){return super.data(t)}}class rT{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ks(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new ni(this._firestore,this._userDataWriter,r.key,r,new Ks(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new ni(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ks(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new ni(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ks(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,d=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:sT(l.type),doc:c,oldIndex:f,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt(61501,{type:e})}}class iT extends eT{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ai(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Tr(this.firestore,null,n)}}function Mo(e){e=_a(e,Gi);const t=_a(e.firestore,pd),n=KE(t),r=new iT(t);return tT(e._query),jE(n,e._query).then(s=>new rT(t,r,e,s))}(function(t,n=!0){(function(s){yr=s})(j_),gi(new ls("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new pd(new ry(r.getProvider("auth-internal")),new oy(a,r.getProvider("app-check-internal")),function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new J(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fs(f.options.projectId,d)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ir($u,qu,t),ir($u,qu,"esm2017")})();const oT={apiKey:"AIzaSyDxxyyeYpqhyUHQF7fKkLJcICYoXDWvdbg",authDomain:"ecosort-6ab5c.firebaseapp.com",projectId:"ecosort-6ab5c",storageBucket:"ecosort-6ab5c.firebasestorage.app",messagingSenderId:"591486107501",appId:"1:591486107501:web:4ece31d87803835c4ea464",measurementId:"G-ST3ZXT65W0"},aT=of(oT),ko=WE(aT),yd=6048e5,lT=864e5,Bc=Symbol.for("constructDateFrom");function En(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Bc in e?e[Bc](t):e instanceof Date?new e.constructor(t):new Date(t)}function Te(e,t){return En(t||e,e)}let uT={};function Qi(){return uT}function ps(e,t){var l,c,f,d;const n=Qi(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(f=n.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??0,s=Te(e,t==null?void 0:t.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function bi(e,t){return ps(e,{...t,weekStartsOn:1})}function vd(e,t){const n=Te(e,t==null?void 0:t.in),r=n.getFullYear(),s=En(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=bi(s),a=En(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=bi(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Uc(e){const t=Te(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function cT(e,...t){const n=En.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function jc(e,t){const n=Te(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function hT(e,t,n){const[r,s]=cT(n==null?void 0:n.in,e,t),i=jc(r),a=jc(s),l=+i-Uc(i),c=+a-Uc(a);return Math.round((l-c)/lT)}function fT(e,t){const n=vd(e,t),r=En(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),bi(r)}function dT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function pT(e){return!(!dT(e)&&typeof e!="number"||isNaN(+Te(e)))}function mT(e,t){const n=Te(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const gT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_T=(e,t,n)=>{let r;const s=gT[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Lo(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const yT={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vT={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ET={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TT={date:Lo({formats:yT,defaultWidth:"full"}),time:Lo({formats:vT,defaultWidth:"full"}),dateTime:Lo({formats:ET,defaultWidth:"full"})},wT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IT=(e,t,n,r)=>wT[e];function Ur(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const AT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ST={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VT=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xT={ordinalNumber:VT,era:Ur({values:AT,defaultWidth:"wide"}),quarter:Ur({values:bT,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ur({values:CT,defaultWidth:"wide"}),day:Ur({values:ST,defaultWidth:"wide"}),dayPeriod:Ur({values:RT,defaultWidth:"wide",formattingValues:PT,defaultFormattingWidth:"wide"})};function jr(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?OT(l,m=>m.test(a)):DT(l,m=>m.test(a));let f;f=e.valueCallback?e.valueCallback(c):c,f=n.valueCallback?n.valueCallback(f):f;const d=t.slice(a.length);return{value:f,rest:d}}}function DT(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function OT(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function NT(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const MT=/^(\d+)(th|st|nd|rd)?/i,kT=/\d+/i,LT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FT={any:[/^b/i,/^(a|c)/i]},BT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},UT={any:[/1/i,/2/i,/3/i,/4/i]},jT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$T={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KT={ordinalNumber:NT({matchPattern:MT,parsePattern:kT,valueCallback:e=>parseInt(e,10)}),era:jr({matchPatterns:LT,defaultMatchWidth:"wide",parsePatterns:FT,defaultParseWidth:"any"}),quarter:jr({matchPatterns:BT,defaultMatchWidth:"wide",parsePatterns:UT,defaultParseWidth:"any",valueCallback:e=>e+1}),month:jr({matchPatterns:jT,defaultMatchWidth:"wide",parsePatterns:$T,defaultParseWidth:"any"}),day:jr({matchPatterns:qT,defaultMatchWidth:"wide",parsePatterns:HT,defaultParseWidth:"any"}),dayPeriod:jr({matchPatterns:zT,defaultMatchWidth:"any",parsePatterns:WT,defaultParseWidth:"any"})},GT={code:"en-US",formatDistance:_T,formatLong:TT,formatRelative:IT,localize:xT,match:KT,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QT(e,t){const n=Te(e,t==null?void 0:t.in);return hT(n,mT(n))+1}function YT(e,t){const n=Te(e,t==null?void 0:t.in),r=+bi(n)-+fT(n);return Math.round(r/yd)+1}function Ed(e,t){var d,m,_,b;const n=Te(e,t==null?void 0:t.in),r=n.getFullYear(),s=Qi(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(_=s.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??1,a=En((t==null?void 0:t.in)||e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=ps(a,t),c=En((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const f=ps(c,t);return+n>=+l?r+1:+n>=+f?r:r-1}function XT(e,t){var l,c,f,d;const n=Qi(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(f=n.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??1,s=Ed(e,t),i=En((t==null?void 0:t.in)||e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ps(i,t)}function JT(e,t){const n=Te(e,t==null?void 0:t.in),r=+ps(n,t)-+XT(n,t);return Math.round(r/yd)+1}function Et(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const tn={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Et(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Et(n+1,2)},d(e,t){return Et(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Et(e.getHours()%12||12,t.length)},H(e,t){return Et(e.getHours(),t.length)},m(e,t){return Et(e.getMinutes(),t.length)},s(e,t){return Et(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Et(s,t.length)}},Kn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$c={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return tn.y(e,t)},Y:function(e,t,n,r){const s=Ed(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Et(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Et(i,t.length)},R:function(e,t){const n=vd(e);return Et(n,t.length)},u:function(e,t){const n=e.getFullYear();return Et(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return tn.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=JT(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Et(s,t.length)},I:function(e,t,n){const r=YT(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Et(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):tn.d(e,t)},D:function(e,t,n){const r=QT(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Et(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Et(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Et(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Et(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Kn.noon:r===0?s=Kn.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Kn.evening:r>=12?s=Kn.afternoon:r>=4?s=Kn.morning:s=Kn.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return tn.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):tn.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):tn.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):tn.s(e,t)},S:function(e,t){return tn.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Hc(r);case"XXXX":case"XX":return On(r);case"XXXXX":case"XXX":default:return On(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Hc(r);case"xxxx":case"xx":return On(r);case"xxxxx":case"xxx":default:return On(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qc(r,":");case"OOOO":default:return"GMT"+On(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qc(r,":");case"zzzz":default:return"GMT"+On(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Et(r,t.length)},T:function(e,t,n){return Et(+e,t.length)}};function qc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+Et(i,2)}function Hc(e,t){return e%60===0?(e>0?"-":"+")+Et(Math.abs(e)/60,2):On(e,t)}function On(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Et(Math.trunc(r/60),2),i=Et(r%60,2);return n+s+t+i}const zc=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Td=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ZT=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return zc(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",zc(r,t)).replace("{{time}}",Td(s,t))},tw={p:Td,P:ZT},ew=/^D+$/,nw=/^Y+$/,rw=["D","DD","YY","YYYY"];function sw(e){return ew.test(e)}function iw(e){return nw.test(e)}function ow(e,t,n){const r=aw(e,t,n);if(console.warn(r),rw.includes(e))throw new RangeError(r)}function aw(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cw=/^'([^]*?)'?$/,hw=/''/g,fw=/[a-zA-Z]/;function dw(e,t,n){var d,m,_,b;const r=Qi(),s=r.locale??GT,i=r.firstWeekContainsDate??((m=(d=r.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,a=r.weekStartsOn??((b=(_=r.locale)==null?void 0:_.options)==null?void 0:b.weekStartsOn)??0,l=Te(e,n==null?void 0:n.in);if(!pT(l))throw new RangeError("Invalid time value");let c=t.match(uw).map(V=>{const O=V[0];if(O==="p"||O==="P"){const F=tw[O];return F(V,s.formatLong)}return V}).join("").match(lw).map(V=>{if(V==="''")return{isToken:!1,value:"'"};const O=V[0];if(O==="'")return{isToken:!1,value:pw(V)};if($c[O])return{isToken:!0,value:V};if(O.match(fw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:V}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const f={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(V=>{if(!V.isToken)return V.value;const O=V.value;(iw(O)||sw(O))&&ow(O,t,String(e));const F=$c[O[0]];return F(l,O,s.localize,f)}).join("")}function pw(e){const t=e.match(cw);return t?t[1].replace(hw,"'"):e}const mw=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},gw={class:"container"},_w={class:"filters"},yw=["value"],vw={class:"table-wrapper"},Ew={class:"material-table"},Tw=["onClick"],ww={key:0,class:"modal"},Iw={class:"modal-content"},Aw=["src"],bw={__name:"studentTable",setup(e){const t=Fr([]),n=Fr({name:"",classLevel:"",date:""}),r=Fr([]),s=async()=>{const m=await Mo(No(ko,"users")),_=await Mo(No(ko,"trash_records")),b=await Mo(No(ko,"redemptions")),V={};m.forEach(K=>{V[K.id]={...K.data(),userId:K.id}});const O={};b.forEach(K=>{const W=K.data();O[W.studentId]={rewardName:W.rewardName,pointsUsed:W.pointsUsed}});const F=_.docs.map(K=>{var gt,I;const W=K.data(),H=V[W.userId]||{},dt=O[W.userId]||{};return{fullName:H.fullName,classLevel:H.classLevel,trashType:W.trashType,amount:W.amount,pointsEarned:(W.amount||0)*(W.pointsPerItem||0),rewardName:dt.rewardName,pointsUsed:dt.pointsUsed,imageBase64:W.imageBase64||"",date:((I=(gt=W.date)==null?void 0:gt.toDate)==null?void 0:I.call(gt))||new Date,userId:W.userId}});t.value=F;const Y=[...new Set(F.map(K=>K.classLevel))].filter(Boolean);r.value=Y},i=m=>dw(m,"yyyy-MM-dd"),a=Yh(()=>t.value.filter(m=>{var O;const _=(O=m.fullName)==null?void 0:O.toLowerCase().includes(n.value.name.toLowerCase()),b=n.value.classLevel?m.classLevel===n.value.classLevel:!0,V=n.value.date?i(m.date)===n.value.date:!0;return _&&b&&V}));bh(s);const l=Fr(!1),c=Fr(""),f=m=>{m?(c.value=m,l.value=!0):alert("")},d=()=>{l.value=!1,c.value=""};return(m,_)=>(nn(),xn("div",gw,[_[5]||(_[5]=at("img",{src:pg,alt:"",class:"logo"},null,-1)),_[6]||(_[6]=at("h2",{class:"title"},[at("span",{class:"material-symbols-outlined icon"},"recycling"),Kh("  ")],-1)),at("div",_w,[yo(at("input",{"onUpdate:modelValue":_[0]||(_[0]=b=>n.value.name=b),type:"text",placeholder:"..."},null,512),[[Su,n.value.name]]),yo(at("select",{"onUpdate:modelValue":_[1]||(_[1]=b=>n.value.classLevel=b)},[_[3]||(_[3]=at("option",{value:""},"",-1)),(nn(!0),xn(ve,null,ru(r.value,b=>(nn(),xn("option",{key:b,value:b},Ae(b),9,yw))),128))],512),[[lg,n.value.classLevel]]),yo(at("input",{type:"date","onUpdate:modelValue":_[2]||(_[2]=b=>n.value.date=b)},null,512),[[Su,n.value.date]])]),at("div",vw,[at("table",Ew,[_[4]||(_[4]=at("thead",null,[at("tr",null,[at("th",null,""),at("th",null,""),at("th",null,""),at("th",null,""),at("th",null,""),at("th",null,""),at("th",null,""),at("th",null,""),at("th",null,"")])],-1)),at("tbody",null,[(nn(!0),xn(ve,null,ru(a.value,b=>(nn(),xn("tr",{key:b.userId+b.date},[at("td",null,Ae(b.fullName),1),at("td",null,Ae(b.classLevel),1),at("td",null,Ae(b.trashType),1),at("td",null,[at("button",{onClick:V=>f(b.imageBase64)},"",8,Tw)]),l.value?(nn(),xn("div",ww,[at("div",Iw,[at("span",{class:"close",onClick:d},""),at("img",{src:c.value,alt:""},null,8,Aw)])])):xm("",!0),at("td",null,Ae(b.amount),1),at("td",null,Ae(b.pointsEarned),1),at("td",null,Ae(b.rewardName||"-"),1),at("td",null,Ae(b.pointsUsed||"-"),1),at("td",null,Ae(b.date),1)]))),128))])])])]))}},Cw=mw(bw,[["__scopeId","data-v-48e15b75"]]),Sw={__name:"App",setup(e){return(t,n)=>(nn(),xn("div",null,[Ve(Cw)]))}};hg(Sw).mount("#app");
